<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Tag: Contact | 乐者为王]]></title>
  <link href="http://codemany.com/tags/contact/atom.xml" rel="self"/>
  <link href="http://codemany.com/"/>
  <updated>2014-08-03T22:17:08+08:00</updated>
  <id>http://codemany.com/</id>
  <author>
    <name><![CDATA[dohkoos]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Android下显示本地Contact Number信息（续）]]></title>
    <link href="http://codemany.com/blog/2010/02/13/display-the-local-contact-number-on-android-continued/"/>
    <updated>2010-02-13T11:54:41+08:00</updated>
    <id>http://codemany.com/blog/2010/02/13/display-the-local-contact-number-on-android-continued</id>
    <content type="html"><![CDATA[<p><p>前文的代码只能显示联系人的第一个号码，很不方便。如果要列出联系人的所有号码，需要将People.CONTENT_URI改为Phones.CONTENT_URI。具体代码如下：<br />
```
package com.codemany;</p>

<p><p>import android.app.Activity;<br />
import android.database.Cursor;<br />
import android.os.Bundle;<br />
import android.provider.Contacts.People;<br />
import android.widget.ListView;<br />
import android.widget.SimpleCursorAdapter;</p>

<p><p>public class ContactKit extends Activity {</p>

<p><p>    @Override<br /></p>

<pre><code>public void onCreate(Bundle savedInstanceState) {&lt;br /&gt;
    super.onCreate(savedInstanceState);&lt;br /&gt;
    setContentView(R.layout.contact_list);
</code></pre>

<p><p>        ListView contactList = (ListView)findViewById(R.id.contactList);</p>

<p><p>        Cursor contactsCursor = managedQuery(Phones.CONTENT_URI,<br /></p>

<pre><code>            null, null, null, null);&lt;br /&gt;
    startManagingCursor(contactsCursor);
</code></pre>

<p><p>        String[] columnsToMap = new String[] {Phones.NAME, Phones.NUMBER};<br /></p>

<pre><code>    int[] mapTo = new int[] {R.id.contactName, R.id.contactNumber};
</code></pre>

<p><p>        SimpleCursorAdapter mAdapter = new SimpleCursorAdapter(this,<br /></p>

<pre><code>            R.layout.contact_entry, contactsCursor,&lt;br /&gt;
            columnsToMap, mapTo);&lt;br /&gt;
    contactList.setAdapter(mAdapter);&lt;br /&gt;
}&lt;br /&gt;
</code></pre>

<p>}
```</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Android下显示本地Contact Number信息]]></title>
    <link href="http://codemany.com/blog/2010/01/23/display-the-local-contact-number-on-android/"/>
    <updated>2010-01-23T14:26:55+08:00</updated>
    <id>http://codemany.com/blog/2010/01/23/display-the-local-contact-number-on-android</id>
    <content type="html"><![CDATA[<p><p>首先要在AndroidManifest.xml中配置允许读取联系人的权限：<br />
[code lang=&ldquo;xml&rdquo;]
&lt;uses-permission android:name=&ldquo;android.permission.READ_CONTACTS&rdquo; />
```</p>

<p><p>contact_list.xml<br />
[code lang=&ldquo;xml&rdquo;]
&lt;?xml version=&ldquo;1.0&rdquo; encoding=&ldquo;utf-8&rdquo;?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"<br /></p>

<pre><code>  android:orientation="vertical"&lt;br /&gt;
  android:layout_width="fill_parent"&lt;br /&gt;
  android:layout_height="fill_parent"&gt;
&lt;ListView android:id="@+id/contactList"&lt;br /&gt;
    android:layout_width="fill_parent"&lt;br /&gt;
    android:layout_height="wrap_content" /&gt;
</code></pre>

<p></LinearLayout>
```</p>

<p><p>contact_entry.xml<br />
[code lang=&ldquo;xml&rdquo;]
&lt;?xml version=&ldquo;1.0&rdquo; encoding=&ldquo;utf-8&rdquo;?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"<br /></p>

<pre><code>  android:layout_width="fill_parent"&lt;br /&gt;
  android:layout_height="fill_parent"&gt;
&lt;TextView android:id="@+id/contactName"&lt;br /&gt;
    android:layout_width="wrap_content"&lt;br /&gt;
    android:layout_height="wrap_content" /&gt;
&lt;TextView android:id="@+id/contactNumber"&lt;br /&gt;
    android:layout_width="wrap_content"&lt;br /&gt;
    android:layout_height="wrap_content" /&gt;
</code></pre>

<p></LinearLayout>
```</p>

<p><p>ContactKit.java<br />
```
package com.codemany;</p>

<p><p>import android.app.Activity;<br />
import android.database.Cursor;<br />
import android.os.Bundle;<br />
import android.provider.Contacts.People;<br />
import android.widget.ListView;<br />
import android.widget.SimpleCursorAdapter;</p>

<p><p>public class ContactKit extends Activity {</p>

<p><p>    @Override<br /></p>

<pre><code>public void onCreate(Bundle savedInstanceState) {&lt;br /&gt;
    super.onCreate(savedInstanceState);&lt;br /&gt;
    setContentView(R.layout.contact_list);
</code></pre>

<p><p>        ListView contactList = (ListView)findViewById(R.id.contactList);</p>

<p><p>        Cursor contactsCursor = managedQuery(People.CONTENT_URI,<br /></p>

<pre><code>            null, null, null, null);&lt;br /&gt;
    startManagingCursor(contactsCursor);
</code></pre>

<p><p>        String[] columnsToMap = new String[] {People.NAME, People.NUMBER};<br /></p>

<pre><code>    int[] mapTo = new int[] {R.id.contactName, R.id.contactNumber};
</code></pre>

<p><p>        SimpleCursorAdapter mAdapter = new SimpleCursorAdapter(this,<br /></p>

<pre><code>            R.layout.contact_entry, contactsCursor,&lt;br /&gt;
            columnsToMap, mapTo);&lt;br /&gt;
    contactList.setAdapter(mAdapter);&lt;br /&gt;
}&lt;br /&gt;
</code></pre>

<p>}
```</p>
]]></content>
  </entry>
  
</feed>
