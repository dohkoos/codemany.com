<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Tag: Ubuntu | 乐者为王]]></title>
  <link href="http://codemany.com/tags/ubuntu/atom.xml" rel="self"/>
  <link href="http://codemany.com/"/>
  <updated>2014-08-25T19:21:45+08:00</updated>
  <id>http://codemany.com/</id>
  <author>
    <name><![CDATA[dohkoos]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Ubuntu 8.10下实现无线上网]]></title>
    <link href="http://codemany.com/blog/2009/02/05/wireless-internet-access-under-the-ubuntu-810/"/>
    <updated>2009-02-05T16:50:49+08:00</updated>
    <id>http://codemany.com/blog/2009/02/05/wireless-internet-access-under-the-ubuntu-810</id>
    <content type="html"><![CDATA[<p>我的机器是Thinkpad x60，自带Inter PRO/Wireless 3945ABG网卡。</p>

<p>1、查看网络设置
<code>
ifconfig
</code>
<img src="/uploads/ifconfig.png" title="ifconfig" ></p>

<p>2、打开无线网卡电源
<code>
sudo iwconfig wlan0 txpower on
</code></p>

<p>3、检索区域内的无线网络
<code>
iwlist wlan0 scan
</code></p>

<p><img src="/uploads/iwlist-scan.png" title="iwlist-scan" ></p>

<p>4、无线网络设置<br />
打开System -> Preferences -> Network Connections。在Wireless页上点击Add按钮，然后在SSID栏填写上面检索得到的ESSID字符串NETGEAR。
<img src="/uploads/wireless-config.png" title="wireless-config" ></p>

<p>如果无线连接需要输入密钥，那么可以在Wireless Security页上设置。譬如，我在路由器端设置的加密方式是WPA/WPA2-PSK(Wi-Fi Protected Access Pre-Shared Key)，如图：
<img src="/uploads/netgear-settings.png" title="netgear-settings" ></p>

<p>所以在Wireless Security页上Securiy栏中选择WPA &amp; WPA2 Personal，然后在Password栏输入设置的密码。然后就点OK，Ubuntu就去寻找网络了，等到状态从Never变为Now的时候就表示已经联网了...</p>

<p>2008/3/19更新</p>

<p>今天早上忽然发现笔记本不能无线上网了，iwlist wlan0 scan后发现结果为No scan result。使用sudo iwlist wlan0 scan命令，然后再执行iwlist wlan scan就可以看到AP了（原因为何还不知道）。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[VirtualBox虚拟Ubuntu 8.10时共享文件夹的使用]]></title>
    <link href="http://codemany.com/blog/2008/12/02/virtualbox-shared-folders-between-ubuntu-guest-and-windows-server-2008-host/"/>
    <updated>2008-12-02T01:24:43+08:00</updated>
    <id>http://codemany.com/blog/2008/12/02/virtualbox-shared-folders-between-ubuntu-guest-and-windows-server-2008-host</id>
    <content type="html"><![CDATA[<p>我的环境：主机操作系统是Windows Server 2008，虚拟机操作系统是Ubuntu 8.10，虚拟机是VirtualBox 2.0.4。</p>

<p>1、安装增强功能包（Guest Additions）</p>

<p>安装好Ubuntu 8.10后，运行Ubuntu并登录。然后在VirtualBox的菜单里选择“设备” -> “安装增强功能包”。如图所示：</p>

<p><img src="/uploads/virtualbox-guest-addtions.png" title="virtualbox-guest-addtions" ></p>

<p>你会发现在Ubuntu桌面上多出一个光盘图标，这张光盘默认被自动加载到了文件夹/media/cdrom0。在命令行下输入：</p>

<p><code>
cd /media/cdrom0
sudo ./VboxLinuxAdditions.run
</code></p>

<p>开始安装工具包。安装完毕后会提示要重启Ubuntu。</p>

<p>2、设置共享文件夹</p>

<p>重启完成后点击“设备” -> “共享文件夹”菜单，添加一个共享文件夹，选项“Make Permanent”是指该文件夹是否是持久的。共享名可以任取一个自己喜欢的，比如“flamingo”，尽量使用英文名称。</p>

<p>3、挂载共享文件夹</p>

<p>重新进入虚拟Ubuntu，打开命令行窗口输入：</p>

<p><code>
sudo mkdir /mnt/shared
sudo mount -t vboxsf flamingo /mnt/shared
</code></p>

<p>其中“flamingo”是之前创建的共享文件夹的名字。现在Ubuntu和主机可以分享文件了。</p>

<p>假如您不想每一次都手动挂载，可以在/etc/fstab中添加一项：</p>

<p><code>
flamingo /mnt/shared vboxsf rw,gid=100,uid=1000,auto 0 0
</code></p>

<p>这样每次系统启动时就能够自动挂载了。</p>

<p>需要注意的是，共享文件夹的名称千万不要和挂载点的名称相同。比如，上面的挂载点是/mnt/shared，如果共享文件夹的名字也是shared的话，在挂载的时候就会出现如下的错误信息（看 <a href="http://www.virtualbox.org/ticket/2265">http://www.virtualbox.org/ticket/2265</a> ）：</p>

<p><code>
/sbin/mount.vboxsf: mounting failed with the error: Protocol error
</code></p>

<p>原因分析可以看<a href="http://paulsiu.wordpress.com/2007/11/20/tips-on-running-innotek-virtualbox/">Tips on running Sun Virtualbox</a>的Shared Folder on a Linux Guest节。</p>

<p>卸载的话使用下面的命令：</p>

<p><code>
sudo umount -f /mnt/shared
</code></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Ubuntu 8.10英文Locale下安装Fcitx中文输入法]]></title>
    <link href="http://codemany.com/blog/2008/11/17/ubuntu-810-install-fcitx-english-locale-chinese-input-method/"/>
    <updated>2008-11-17T02:13:39+08:00</updated>
    <id>http://codemany.com/blog/2008/11/17/ubuntu-810-install-fcitx-english-locale-chinese-input-method</id>
    <content type="html"><![CDATA[<p>系统装好后首先要做的就是安装中文输入法。在网上找了一些中文输入法的资料，最常用的是Fcitx和SCIM输入法。不过好像SCIM的问题比较多，而且据说Fcitx的功能上也要比SCIM强得多，所以决定采用Fcitx输入法。</p>

<p>卸载SCIM</p>

<p>为了避免安装中出现一些问题，在这之前先要卸载掉系统自带的SCIM输入法：
<code>
sudo apt-get remove --purge scim* # 删除SCIM及其配置文件
sudo apt-get autoremove # 删除被SCIM依赖的，不再使用的package
sudo apt-get install -f # 尝试修正安装过程中出现的依赖性关系
</code></p>

<p>注：也可以通过“新立得软件包管理器（Synaptic Package Manager）”来卸载SCIM。</p>

<p>安装Fcitx</p>

<p>下载最新的稳定的预编译包 <a href="http://www.fcitx.org/download/fcitx-3.4.2-bin.tar.bz2">http://www.fcitx.org/download/fcitx-3.4.2-bin.tar.bz2</a> ，解压到任意目录。启动命令行，进行该目录执行sudo ./fcitx.install进行安装（只是复制了几个文件到目标目录）。反安装也是在该目录下面执行sudo ./fcitx.uninstall（如果知道安装到哪了直接删除也行）。</p>

<p>因为要在英文locale下启动Fcitx输入法，所以在/etc/X11/xinit/xinput.d/下新建一个文件en_US，文件内容如下：
<code>
XMODIFIERS="@im=fcitx"
XIM=fcitx
XIM_PROGRAM=/usr/bin/fcitx
XIM_ARGS=""
GTK_IM_MODULE=XIM
QT_IM_MODULE=XIM
DEPENDS="fcitx"
</code></p>

<p>执行ls -l /etc/X11/xinit/xinput.d命令，输出以下内容：
<code>
total 24
drwxr-xr-x 2 root root 4096 2008-10-30 07:10 .
drwxr-xr-x 3 root root 4096 2008-10-30 07:03 ..
lrwxrwxrwx 1 root root   32 2008-11-05 00:31 all_ALL -&gt; /etc/alternatives/xinput-all_ALL
-rw-r--r-- 1 root root 1152 2008-01-08 18:41 default
-rw-r--r-- 1 root root  601 2008-01-08 18:41 default-xim
-rw-r--r-- 1 root root  601 2008-01-08 18:41 en_US
-rw-r--r-- 1 root root  474 2008-01-08 18:41 none
-rw-r--r-- 1 root root  451 2008-10-27 05:54 scim-bridge
lrwxrwxrwx 1 root root   30 2008-11-05 00:31 th_TH -&gt; /etc/alternatives/xinput-th_TH
-rw-r--r-- 1 root root  610 2008-01-08 18:41 th-xim
</code></p>

<p>重启X Window后Fcitx正常启动，输入条位于屏幕顶端，但是按Ctrl+Space无法调出中文输入，用鼠标点小企鹅也不行。这时需要编辑/usr/lib/gtk-2.0/2.10.0/immodule-files.d/libgtk2.0-0.immodules文件，找到：
<code>
"xim" "X Input Method" "gtk20" "/usr/share/locale" "ko:ja:th:zh"
</code></p>

<p>将之改成
<code>
"xim" "X Input Method" "gtk20" "/usr/share/locale" "en:ko:ja:th:zh"
</code></p>

<p>使Xim在英文环境下也能启动。保存退出，重启X后中文输入就可以被正常调出了。</p>

<p>安装中文所需的Locale包</p>

<p>现在还有个问题就是输入法尾部出现乱码，输入条下的待选字也是乱码，即只显示一些小方框，如下图：
<img src="/uploads/fcitx-invalid-characters.png" title="fcitx-invalid-characters" ></p>

<p>这是因为缺少中文Locale文件导致，需要安装两个中文Locale包。
<code>
sudo apt-get install language-pack-zh
sudo apt-get install language-pack-gnome-zh
</code></p>

<p>或者，也可以将~/.fcitx/config中的：
<code>
显示字体(中)=*
</code></p>

<p>改成
<code>
显示字体(中)=AR PL UMing CN # 填你喜欢的中文字体
</code></p>

<p>重新启动后就没有乱码了。</p>

<p>安装Fcitx时遇到的问题</p>

<p>安装好fcitx后执行sudo im-switch -s fcitx -z all_ALL，结果报错：
<code>
No system wide default defined just for locale en_US.
Use "all_ALL" quasi-locale and set IM.
update-alternatives: Cannot find alternative '/etc/11/xinit/xinput.d/fcitx'
</code></p>

<p>而这时候查看该文件夹，发现fcitx文件确实是存在的。</p>

<p>帖子 <a href="http://wiki.ubuntu.org.cn/Talk:%E4%B8%AD%E6%96%87%E8%BE%93%E5%85%A5%E6%B3%95fcitx">http://wiki.ubuntu.org.cn/Talk:%E4%B8%AD%E6%96%87%E8%BE%93%E5%85%A5%E6%B3%95fcitx</a> 上说需要先执行：
<code>
update-alternatives --install /etc/X11/xinit/xinput.d/all_ALL xinput-all_ALL /etc/X11/xinit/xinput.d/fcitx 30
</code></p>

<p>然后执行im-switch才可以。但是我在update-alternatives后执行im-switch却出现如下信息：
<code>
No system wide default defined just for locale en_US.
Use "all_ALL" quasi-locale and set IM.
Using '/etc/X11/xinit/xinput.d/fcitx' to provide 'xinput-all_ALL'
</code></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[修改Ubuntu 8.10的sources.list]]></title>
    <link href="http://codemany.com/blog/2008/11/14/ubuntu-810-modify-the-sourceslist/"/>
    <updated>2008-11-14T02:56:45+08:00</updated>
    <id>http://codemany.com/blog/2008/11/14/ubuntu-810-modify-the-sourceslist</id>
    <content type="html"><![CDATA[<p>系统自带的软件源速度太慢，更新一次安装包竟然要4个多小时，决定换个快点的软件源。这里 <a href="http://wiki.ubuntu.org.cn/Template:8.10source">http://wiki.ubuntu.org.cn/Template:8.10source</a> 列出了选多的选择，我选择了最后的台湾官方源。
<code>
deb http://tw.archive.ubuntu.com/ubuntu intrepid main restricted universe multiverse
deb http://tw.archive.ubuntu.com/ubuntu intrepid-security main restricted universe multiverse
deb http://tw.archive.ubuntu.com/ubuntu intrepid-updates main restricted universe multiverse
deb http://tw.archive.ubuntu.com/ubuntu intrepid-backports main restricted universe multiverse
deb http://tw.archive.ubuntu.com/ubuntu intrepid-proposed main restricted universe multiverse
deb-src http://tw.archive.ubuntu.com/ubuntu intrepid main restricted universe multiverse
deb-src http://tw.archive.ubuntu.com/ubuntu intrepid-security main restricted universe multiverse
deb-src http://tw.archive.ubuntu.com/ubuntu intrepid-updates main restricted universe multiverse
deb-src http://tw.archive.ubuntu.com/ubuntu intrepid-backports main restricted universe multiverse
deb-src http://tw.archive.ubuntu.com/ubuntu intrepid-proposed main restricted universe multiverse
</code></p>

<p>首先备份sources.list
<code>
sudo cp /etc/apt/sources.list /etc/apt/sources.list.original
</code></p>

<p>然后用vi打开sources.list，把上面列出的源添加进去：
<code>
sudo vi /etc/apt/sources.list
</code></p>

<p>接着就是更新源：
<code>
sudo apt-get update
</code></p>

<p>现在我们就可以更新已安装的软件包了：
<code>
apt-get upgrade
</code></p>

<p>小知识：<br />
apt-get upgrade [-u]<br />
升级已安装的包为最新版本，不会安装新的或移除老的安装包。如果一个包因为改变了倚赖关系而需要安装一个新的包，那么它将不会被升级，会被标志为hold。建议使用“-u”选项，这样你就能看到哪些安装包将会被升级。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Ubuntu 8.0.4下登录南京广电宽带]]></title>
    <link href="http://codemany.com/blog/2008/08/13/under-ubuntu-804-log-nanjing-radio-and-tv-broadband/"/>
    <updated>2008-08-13T02:44:43+08:00</updated>
    <id>http://codemany.com/blog/2008/08/13/under-ubuntu-804-log-nanjing-radio-and-tv-broadband</id>
    <content type="html"><![CDATA[<p>南京广电宽带提供了一个特殊的基于DHCP+（一个十分特殊的登录协议）的登录系统，只有依靠它提供的客户端才能登录宽带。客户端可以在 <a href="http://www.baron.com.cn/sihua/">http://www.baron.com.cn/sihua/</a> 下载。</p>

<p>根据Linux客户端的readme文档知道：登录宽带需要系统已经安装了DHCP客户端软件包，并且已经把网卡配置为动态获取IP地址的模式。</p>

<p>1、检查网络配置
<code>
ifconfig -a
</code></p>

<p>2、配置DHCP客户端
<code>
sudo vi /etc/network/interfaces
</code></p>

<p>以下是我机器上interface里面的内容：
<code>
auto lo
iface lo inet loopback
</code></p>

<p>在上述内容的后面添加下面的两条配置命令，然后保存退出。
<code>
iface eth0 inet dhcp
auto eth0
</code></p>

<p>3、重启networking服务，使新的interfaces生效。
<code>
sudo /etc/init.d/networking restart
</code></p>

<p>使用ifconfig eth0重新检查下网络配置，可以看到一些相应的设置都已经正确了，配置完成。</p>

<p>然后进入宽带客户端的目录~/racer，根据readme文档输入：
<code>
sudo ./ecou.sh start
</code></p>

<p>这时会出现以下错误信息，这是因为在/usr/lib下没有共享库libpcap.so.0.8.3的缘故。
<code>
./racer: error while loading shared libraries: libpcap.so.0.8.3: cannot open shared object file: No such file or directory
</code></p>

<p>切到/usr/lib目录，输入ls libpcap*，在我的机器上列出的是：
<code>
libpcap.so.0.8 -&gt; libpcap.so.0.9.8
libpcap.so.0.9.8
</code></p>

<p>输入命令sudo ln -s libpcap.so.0.9.8 libpcap.so.0.8.3，这时候的文件列表为：
<code>
libpcap.so.0.8 -&gt; libpcap.so.0.9.8
libpcap.so.0.8.3 -&gt; libpcap.so.0.9.8
libpcap.so.0.9.8
</code></p>

<p>然后重新执行sudo ./ecou.sh start命令就可以上网了。</p>
]]></content>
  </entry>
  
</feed>
