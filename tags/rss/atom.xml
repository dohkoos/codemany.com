<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Tag: RSS | 乐者为王]]></title>
  <link href="http://codemany.com/tags/rss/atom.xml" rel="self"/>
  <link href="http://codemany.com/"/>
  <updated>2014-08-21T22:32:52+08:00</updated>
  <id>http://codemany.com/</id>
  <author>
    <name><![CDATA[dohkoos]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[为Rails应用增加RSS输出功能]]></title>
    <link href="http://codemany.com/blog/2010/12/23/rss-for-the-rails-application-to-increase-output/"/>
    <updated>2010-12-23T04:55:17+08:00</updated>
    <id>http://codemany.com/blog/2010/12/23/rss-for-the-rails-application-to-increase-output</id>
    <content type="html"><![CDATA[<p>在EntriesController中增加action，内容如下：<br />
```
def feed<br />
  @entries = Entry.all<br />
  respond_to do |format|<br /></p>

<pre><code>format.rss { render :layout =&gt; false } # feed.rss.rxml&lt;br /&gt;
</code></pre>

<p>  end<br />
end<br />
```</p>

<p>在app/views/entries中增加feed.rss.rxml视图模板：</p>

<p>```
xml.instruct! "xml", :version => "1.0"<br />
xml.rss "version" => "2.0" do<br />
  xml.channel do<br /></p>

<pre><code>xml.title "xx510.cn Entries"&lt;br /&gt;
xml.description "Listing Entries for xx510.cn"&lt;br /&gt;
xml.link entries_url

@entries.each do |entry|&lt;br /&gt;
  xml.item do&lt;br /&gt;
    xml.title entry.title&lt;br /&gt;
    xml.link entry_url(entry)&lt;br /&gt;
    xml.description entry.content&lt;br /&gt;
    xml.guid entry_url(entry)&lt;br /&gt;
  end&lt;br /&gt;
end&lt;br /&gt;
</code></pre>

<p>  end<br />
end<br />
```</p>

<p>然后在config/routes.rb中添加：<br />
<code>
map.feed '/feed', :controller =&gt; 'entries', :action =&gt; 'feed'&lt;br /&gt;
</code></p>

<p>这样，当访问<a href="http://xx510.cn/feed%E6%97%B6%E5%8D%B3%E5%8F%AF%E7%9C%8B%E5%88%B0%E6%89%80%E6%9C%89%E5%86%85%E5%AE%B9%E7%9A%84RSS%E8%BE%93%E5%87%BA%E4%BA%86%EF%BC%81">http://xx510.cn/feed%E6%97%B6%E5%8D%B3%E5%8F%AF%E7%9C%8B%E5%88%B0%E6%89%80%E6%9C%89%E5%86%85%E5%AE%B9%E7%9A%84RSS%E8%BE%93%E5%87%BA%E4%BA%86%EF%BC%81</a></p></p>
]]></content>
  </entry>
  
</feed>
