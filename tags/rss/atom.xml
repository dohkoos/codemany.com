<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Tag: RSS | 乐者为王]]></title>
  <link href="http://codemany.com/tags/rss/atom.xml" rel="self"/>
  <link href="http://codemany.com/"/>
  <updated>2014-09-17T11:16:21+08:00</updated>
  <id>http://codemany.com/</id>
  <author>
    <name><![CDATA[dohkoos]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[为Rails应用增加RSS输出功能]]></title>
    <link href="http://codemany.com/blog/2010/12/23/add-rss-output-for-rails-application/"/>
    <updated>2010-12-23T20:55:17+08:00</updated>
    <id>http://codemany.com/blog/2010/12/23/add-rss-output-for-rails-application</id>
    <content type="html"><![CDATA[<p>在EntriesController中增加action，内容如下：</p>

<p>```
def feed
  @entries = Entry.all
  respond_to do |format|</p>

<pre><code>format.rss { render :layout =&gt; false }  # feed.rss.rxml
</code></pre>

<p>  end
end
```</p>

<p>在app/views/entries中增加feed.rss.rxml视图模板：</p>

<p>```
xml.instruct! "xml", :version => "1.0"
xml.rss "version" => "2.0" do
  xml.channel do</p>

<pre><code>xml.title "example.com Entries"
xml.description "Listing Entries for example.com"
xml.link entries_url

@entries.each do |entry|
  xml.item do
    xml.title entry.title
    xml.link entry_url(entry)
    xml.description entry.content
    xml.guid entry_url(entry)
  end
end
</code></pre>

<p>  end
end
```</p>

<p>然后在config/routes.rb中添加：</p>

<p><code>
map.feed '/feed', :controller =&gt; 'entries', :action =&gt; 'feed'
</code></p>

<p>这样，当访问<code>http://example.com/feed</code>时就可看到所有内容的RSS输出了。</p>
]]></content>
  </entry>
  
</feed>
