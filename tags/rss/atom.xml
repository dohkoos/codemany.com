<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Tag: RSS | 乐者为王]]></title>
  <link href="http://codemany.com/tags/rss/atom.xml" rel="self"/>
  <link href="http://codemany.com/"/>
  <updated>2015-02-14T09:36:27+08:00</updated>
  <id>http://codemany.com/</id>
  <author>
    <name><![CDATA[dohkoos]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[为Rails应用增加RSS输出功能]]></title>
    <link href="http://codemany.com/blog/add-rss-output-for-rails-application/"/>
    <updated>2010-12-23T20:55:17+08:00</updated>
    <id>http://codemany.com/blog/add-rss-output-for-rails-application</id>
    <content type="html"><![CDATA[<p>在EntriesController中增加action，内容如下：</p>

<pre><code>def feed
  @entries = Entry.all
  respond_to do |format|
    format.rss { render :layout =&gt; false }  # feed.rss.rxml
  end
end
</code></pre>

<p>在app/views/entries中增加feed.rss.rxml视图模板：</p>

<pre><code>xml.instruct! "xml", :version =&gt; "1.0"
xml.rss "version" =&gt; "2.0" do
  xml.channel do
    xml.title "example.com Entries"
    xml.description "Listing Entries for example.com"
    xml.link entries_url

    @entries.each do |entry|
      xml.item do
        xml.title entry.title
        xml.link entry_url(entry)
        xml.description entry.content
        xml.guid entry_url(entry)
      end
    end
  end
end
</code></pre>

<p>然后在config/routes.rb中添加：</p>

<pre><code>map.feed '/feed', :controller =&gt; 'entries', :action =&gt; 'feed'
</code></pre>

<p>这样，当访问<code>http://example.com/feed</code>时就可看到所有内容的RSS输出了。</p>
]]></content>
  </entry>
  
</feed>
