<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Tag: Archetype | 乐者为王]]></title>
  <link href="http://codemany.com/tags/archetype/atom.xml" rel="self"/>
  <link href="http://codemany.com/"/>
  <updated>2014-12-05T19:36:59+08:00</updated>
  <id>http://codemany.com/</id>
  <author>
    <name><![CDATA[dohkoos]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[从已有项目创建Maven Archetype]]></title>
    <link href="http://codemany.com/blog/create-maven-archetype-from-existing-project/"/>
    <updated>2011-10-12T16:19:04+08:00</updated>
    <id>http://codemany.com/blog/create-maven-archetype-from-existing-project</id>
    <content type="html"><![CDATA[<p>有这么句话：遇到重复的Maven项目初始配置，就要创建自己的Archetype。</p>

<p>手里就有这样的项目，其它项目都基于这个项目创建，只是对package名字做了修改，还有就是替换部分的图片。如何从现有项目中创建Archetype呢？</p>

<p>首先，在已有项目的根目录下创建pom.xml，内容如下：</p>

<pre><code>&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd"&gt;
    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;

    &lt;groupId&gt;your.company&lt;/groupId&gt;
    &lt;artifactId&gt;artifact-name&lt;/artifactId&gt;
    &lt;version&gt;1.0&lt;/version&gt;
    &lt;packaging&gt;jar&lt;/packaging&gt;
&lt;/project&gt;
</code></pre>

<p>然后在根目录下执行下列命令（当然，在这之前你必须先配置好Maven环境）：</p>

<pre><code>mvn archetype:create-from-project
</code></pre>

<p>进入target\generated-sources\archetype目录，手工调整相关的源码。需进行变量替换的文件，要在archetype-metadata.xml中开启filtered=&ldquo;true&#8221;。</p>

<p>下面就是使用Archetype了：</p>

<pre><code>mvn clean install
mvn archetype:generate -DarchetypeArtifactId=artifact-name-archetype -DarchetypeGroupId=your.company -DgroupId=com.codemany -DartifactId=example -Dpackage=com.codemany.example
</code></pre>
]]></content>
  </entry>
  
</feed>
