<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Tag: Archetype | 乐者为王]]></title>
  <link href="http://codemany.com/tags/archetype/atom.xml" rel="self"/>
  <link href="http://codemany.com/"/>
  <updated>2014-08-13T19:18:25+08:00</updated>
  <id>http://codemany.com/</id>
  <author>
    <name><![CDATA[dohkoos]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[创建Maven archetype避免重复项目初始配置]]></title>
    <link href="http://codemany.com/blog/2011/10/12/maven-archetype-to-create-the-initial-configuration-to-avoid-duplication-of-projects/"/>
    <updated>2011-10-12T16:19:04+08:00</updated>
    <id>http://codemany.com/blog/2011/10/12/maven-archetype-to-create-the-initial-configuration-to-avoid-duplication-of-projects</id>
    <content type="html"><![CDATA[<p>有这么句话：遇到重复的项目初始配置，就要创建自己的Maven archetype。</p>

<p>手里就有这样的项目，其它项目都基于这个项目创建，只是对package名字做了修改，还有就是替换部分的图片，如何从现有项目中创建archetype呢？</p>

<p>首先，在已有项目的根目录下创建pom.xml，内容如下：<br />
```
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"<br /></p>

<pre><code>xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd"&gt;
&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;

&lt;groupId&gt;your.company&lt;/groupId&gt;
&lt;artifactId&gt;artifact-name&lt;/artifactId&gt;
&lt;version&gt;1.0&lt;/version&gt;
&lt;packaging&gt;jar&lt;/packaging&gt;
</code></pre>

<p></project>
```</p>

<p>然后在根目录下执行下列命令（当然，在这之前你必须先配置好Maven环境）：<br />
<code>
mvn archetype:create-from-project&lt;br /&gt;
</code></p>

<p>进入target\generated-sources\archetype目录，手工调整相关archetype源码。需进行变量替换的文件，要在archetype-metadata.xml中开启filtered="true"。</p>

<p>下面就是使用archetype了。<br />
<code>
mvn clean install&lt;br /&gt;
mvn archetype:generate -DarchetypeArtifactId=artifact-name-archetype -DarchetypeGroupId=your.company -DgroupId=com.codemany -DartifactId=example -Dpackage=com.codemany.example&lt;br /&gt;
</code></p>
]]></content>
  </entry>
  
</feed>
