<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Tag: Open Flash Chart | 乐者为王]]></title>
  <link href="http://codemany.com/tags/open-flash-chart/atom.xml" rel="self"/>
  <link href="http://codemany.com/"/>
  <updated>2014-11-18T20:05:55+08:00</updated>
  <id>http://codemany.com/</id>
  <author>
    <name><![CDATA[dohkoos]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[使用ichartjs画2D条形图]]></title>
    <link href="http://codemany.com/blog/draw-2d-bar-graph-using-ichartjs/"/>
    <updated>2013-03-27T06:45:37+08:00</updated>
    <id>http://codemany.com/blog/draw-2d-bar-graph-using-ichartjs</id>
    <content type="html"><![CDATA[<p><a href="http://codemany.com/blog/using-open-flash-chart-ii-in-rails/">在Rails中使用Open Flash Chart II</a>中使用了OFC2来画2D条形图。现在Flash快要不行了，因为有了更好的HTML5。好的程序猿也要紧随潮流，使用新的技术来改进和增强他们的代码。这次就尝试使用HTML5图形库来替换OFC2。比较已有的一些图形库，最后选定国产的<a href="http://www.ichartjs.com/">ichartjs</a>。</p>

<p>实现2D条形图真的很简单：</p>

<p>&#8220;`</p>

<script type="text/javascript" src="ichart.1.1.min.js"></script>


<script type="text/javascript">
$(function() {
  var data = [
    {name: 'IE', value: 35.75, color: '#a5c2d5'},
    {name: 'Chrome', value: 29.84, color: '#cbab4f'},
    {name: 'Firefox', value: 24.88, color: '#76a871'},
    {name: 'Safari',value: 6.77, color: '#9f7961'},
    {name: 'Opera',value：2.02, color: '#a56f8f'},
    {name: 'Other',value: 0.73, color: '#6f83a5'}
  ];

  new iChart.Bar2D({
    render: 'canvasDiv',
    data: data,
    title: 'Top 5 Browsers from 1 to 29 Feb 2012',
    showpercent: true,
    decimalsnum: 2,
    width: 800,
    height: 400,
    coordinate: {
      scale: [{
        position: 'bottom',
        start_scale: 0,
        end_scale: 40,
        scale_space: 8,
        listeners: {
          parseText: function(t, x, y) {
            return {text: t + "%"}
          }
        }
      }]
    }
  }).draw();
}); 
</script>




<div id="canvasDiv"></div>


<p>&#8220;`</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[在Rails中使用Open Flash Chart II]]></title>
    <link href="http://codemany.com/blog/using-open-flash-chart-ii-in-rails/"/>
    <updated>2011-09-23T15:08:12+08:00</updated>
    <id>http://codemany.com/blog/using-open-flash-chart-ii-in-rails</id>
    <content type="html"><![CDATA[<p>今天我们讲如何用Rails结合Open Flash Chart II（以下简称OFC2）实现如下的图表：</p>

<p>{% img /uploads/ofc2-glassbar.png ofc2-glassbar %}</p>

<p>在项目中安装OFC2插件，生成相关controller：</p>

<pre><code>script/plugin install git://github.com/pullmonkey/open_flash_chart.git
script/generate controller stats index
</code></pre>

<p>在生成的app/controllers/stats_controller.rb中添加以下代码：</p>

<pre><code>class StatsController &lt; ApplicationController
  def index
    @graph = open_flash_chart_object(500, 300, "/stats/graph_code")
  end

  def graph_code
    title = Title.new("Glass Bar")

    bar = BarGlass.new
    bar.set_values([-1,2,3,7,8,-7.3])

    y = YAxis.new
    y.set_range(-10, 10, 5)

    chart = OpenFlashChart.new
    chart.y_axis = y
    chart.set_title(title)
    chart.add_element(bar)
    render :text =&gt; chart.to_s
  end
end
</code></pre>

<p>在config/routes.rb中添加路由：</p>

<pre><code>match 'stats/graph_code' =&gt; 'stats#graph_code'
</code></pre>

<p>将插件中的assets/javascripts/swfobject.js拷贝到public/javascripts目录下（可以看到该目录下已经有两个open-flash-chart开头的swf文件，如果没有的话，需要从插件中拷过来）。在相应的app/views/stats/index.html中添加如下代码：</p>

<p>&#8220;`</p>

<script src="http://codemany.com/javascripts/swfobject.js" type="text/javascript"></script>


<p>&lt;%= @graph %>
&#8220;`</p>
]]></content>
  </entry>
  
</feed>
