<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Tag: Lunarpages | 乐者为王]]></title>
  <link href="http://codemany.com/tags/lunarpages/atom.xml" rel="self"/>
  <link href="http://codemany.com/"/>
  <updated>2017-04-08T20:35:58+08:00</updated>
  <id>http://codemany.com/</id>
  <author>
    <name><![CDATA[dohkoos]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[允许客户端远程连接Lunarpages上的MySQL数据库]]></title>
    <link href="http://codemany.com/blog/allow-remote-client-to-connect-to-mysql-on-lunarpages/"/>
    <updated>2009-07-09T14:54:05+08:00</updated>
    <id>http://codemany.com/blog/allow-remote-client-to-connect-to-mysql-on-lunarpages</id>
    <content type="html"><![CDATA[<p>Lunarpages虚拟主机上的MySQL服务默认仅有本机能访问。只有在cPanel中向某IP地址或地址段或者所有地址开放访问权限后，才可以从外部用客户端连接数据库。</p>

<p>如果想允许任何主机的访问，直接在Host处填写百分号%，然后Add Host即可。如果只想特定主机访问，就输入客户端机器的IP地址。</p>

<p><img src="/uploads/lunarpages-mysql-remote.png" title="lunarpages-mysql-remote" ></p>

<p>客户端远程连接时使用的地址就是虚拟空间的地址，可以通过ping域名得到。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[在Lunarpages虚拟主机上安装Radiant]]></title>
    <link href="http://codemany.com/blog/install-radiant-on-lunarpages-shared-server/"/>
    <updated>2008-04-20T06:55:11+08:00</updated>
    <id>http://codemany.com/blog/install-radiant-on-lunarpages-shared-server</id>
    <content type="html"><![CDATA[<p>安裝Rails、Mongrel和Radiant</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">gem install rails --include-dependencies
gem install mongrel --include-dependencies
gem install radiant --include-dependencies
</code></pre></div>
<p>建立Radiant项目</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">radiant --database mysql rcms
</code></pre></div>
<p>登录Lunarpages cPanel面板，创建数据库rcms及访问该数据库的账号，设置该帐号的访问权限。然后进入MySQL的数据库管理工具phpMyAdmin，导入在本地建立好的创建数据表的SQL文件，执行之。然后修改config/database.yml文件，填入前面创建的访问数据库的用户名和密码。</p>

<p>将config/environment.rb中的</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">#ENV[&#39;RAILS_ENV&#39;] ||= &#39;production&#39;
</code></pre></div>
<p>去掉注释</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">ENV[&#39;RAILS_ENV&#39;] ||= &#39;production&#39;
</code></pre></div>
<p>再将public/dispatch.fcgi中的</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">#!/usr/bin/env ruby
</code></pre></div>
<p>修改为</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">#!/usr/local/bin/ruby
</code></pre></div>
<p>然后将rcms上传到Lunarpages虚拟主机的根目录下，上传后的目录结构如下：</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">/public_html
/www
/rcms
</code></pre></div>
<p>在cPanel中点击“Cron Jobs” -&gt; “Advanced (Unix Style)”进入Cron管理页面。</p>

<p><img src="/uploads/lunarpages-cron-jobs.png" title="lunarpages-cron-jobs" ></p>

<p>创建如下Cron指令（使用默认时间设置，指令会每分钟被执行一次）。</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">cd /home/&lt;username&gt;
mv public_html public_html.bak
ln -s /home/&lt;username&gt;/rcms/public public_html
mkdir public_html/cgi-bin
chown -R username:&lt;username&gt; /home/&lt;username&gt;/rcms
chmod 755 /home/&lt;username&gt;/rcms
chmod 755 /home/&lt;username&gt;/rcms/public
</code></pre></div>
<p>再填好接收执行结果的邮件地址，然后等个2-3分钟后查收邮件就可以了，在收到邮件后切记要删除上面创建的指令。</p>

<p>现在就可以通过浏览器访问部署在Lunarpages上的Radiant了。</p>

<p>如果你想让Radiant跑在类似<code>http://example.com/rcms</code>这样的域名下，那么可以将上面的指令替换成：</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">cd /home/&lt;username&gt;/public_html
ln -s ../rcms/public rcms
chown -R username:&lt;username&gt; /home/&lt;username&gt;/rcms
chmod 755 /home/&lt;username&gt;/rcms
</code></pre></div>
<p>如果Radiant不工作的话可以在Cron Jobs中使用下列指令检查出了什么问题。</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">cd /home/&lt;username&gt;/rcms/public
chmod 777 dispatch.fcgi
./dispatch.fcgi
chmod 644 dispatch.fcgi
</code></pre></div>]]></content>
  </entry>
  
</feed>
