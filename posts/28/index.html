
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>乐者为王</title>
  <meta name="author" content="dohkoos">

  
  <meta name="description" content="WinRAR在使用到期后，每次打开都会弹出如下图所示的对话框窗口，十分烦人。 去除Nag窗口常用的几种方法是： 使用资源修改工具将可执行文件中的Nag窗口的属性改成透明、不可见，可以变相的去除Nag窗口；
找到创建和显示Nag窗口的代码，跳过即可。显示窗口的常用函数有MessageBox、 &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://codemany.com/posts/28/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="乐者为王" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-46570161-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">乐者为王</a></h1>
  
    <h2>Do one thing, and do it well.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="sitesearch" value="codemany.com">
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/how-to-remove-registration-prompt-for-winrar-330/">如何去除WinRAR 3.30的注册提示框</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2006-03-23T22:50:59+08:00'><span class='date'><span class='date-month'>Mar</span> <span class='date-day'>23</span><span class='date-suffix'>rd</span>, <span class='date-year'>2006</span></span> <span class='time'>10:50 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>WinRAR在使用到期后，每次打开都会弹出如下图所示的对话框窗口，十分烦人。</p>

<p><img src="/uploads/winrar-nag.png" title="winrar-nag" ></p>

<p>去除Nag窗口常用的几种方法是：</p>

<ol>
<li>使用资源修改工具将可执行文件中的Nag窗口的属性改成透明、不可见，可以变相的去除Nag窗口；</li>
<li>找到创建和显示Nag窗口的代码，跳过即可。显示窗口的常用函数有MessageBox、MessageBoxEx、DialogBoxParam、CreateWindowEx、CreateWindowEx、ShowWindow等；</li>
<li>找到创建和显示Nag窗口的函数，更改其参数，让其调用失败就可以了；</li>
<li>在Nag窗口弹出来后，给可以关闭它的BUTTON 送一个WM_COMMAND消息；</li>
<li>通过静态和动态分析找到注册码。</li>
</ol>

<p>由于WinRAR未注册版本没有功能限制，用不着去找注册码注册。所以在这里可以用2和3两种方法去掉WinRAR的注册提示窗口。</p>

<p>使用Resource Hacker打开WinRAR.exe，显示Nag窗口的资源如图所示：</p>

<p><img src="/uploads/winrar-reminder.png" title="winrar-reminder" ></p>

<p>Nag窗口的ID号是1049，换算成16进制是0x419。用W32Dasm打开WinRAR.exe，打开Dialog References查找Dialog: DialogID_0419，结果没找到。由上图可知Nag窗口的资源名是REMINDER，打开String Data References查找REMINDER字符串试试，果然找到了，双击该项就可以来到相关代码处。</p>

<p><img src="/uploads/winrar-w32dasm.png" title="winrar-w32dasm" ></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>* Referenced by a (U)nconditional or (C)onditional Jump at Address:
</span><span class='line'>|:0043FE89(C)
</span><span class='line'>|
</span><span class='line'>:0043FE8F C6055037490001          mov byte ptr [00493750], 01
</span><span class='line'>:0043FE96 6A00                    push 00000000
</span><span class='line'>:0043FE98 68143F4400              push 00443F14
</span><span class='line'>:0043FE9D FF3588EC4A00            push dword ptr [004AEC88]
</span><span class='line'>
</span><span class='line'>* Possible StringData Ref from Data Obj -&gt;"REMINDER"
</span><span class='line'>|
</span><span class='line'>:0043FEA3 68C93C4900              push 00493CC9
</span><span class='line'>:0043FEA8 FF3560D04900            push dword ptr [0049D060]
</span><span class='line'>
</span><span class='line'>* Reference To: USER32.DialogBoxParamA, Ord:0000h
</span><span class='line'>|
</span><span class='line'>:0043FEAE E837E30400              Call 0048E1EA
</span><span class='line'>
</span><span class='line'>* Referenced by a (U)nconditional or (C)onditional Jump at Addresses:
</span><span class='line'>|:0043FE64(C), :0043FE6D(C), :0043FE76(C), :0043FE7F(C), :0043FE8D(C)
</span><span class='line'>|
</span><span class='line'>:0043FEB3 833DF8104B0000          cmp dword ptr [004B10F8], 00000000
</span><span class='line'>:0043FEBA 752D                    jne 0043FEE9
</span><span class='line'>:0043FEBC 833DF0104B0000          cmp dword ptr [004B10F0], 00000000
</span><span class='line'>:0043FEC3 7524                    jne 0043FEE9
</span><span class='line'>:0043FEC5 833D08114B00FF          cmp dword ptr [004B1108], FFFFFFFF
</span><span class='line'>:0043FECC 741B                    je 0043FEE9
</span><span class='line'>:0043FECE 6A0A                    push 0000000A
</span><span class='line'>:0043FED0 FF3508114B00            push dword ptr [004B1108]</span></code></pre></td></tr></table></div></figure>

<p>可以看到，REMINDER字符串地址是作为参数传给了DialogBoxParamA函数，而DialogBoxParamA函数正是创建对话框的API函数。这时只需将0043FEA3处的push 00493CC9改为push 0，将一个NULL传入DialogBoxParamA函数，这个函数就会调用失败。当然之后它也就不能正常显示了，就达到了去除的目的。</p>

<p>现在再打开WinRAR，呵呵，大功告成，再也不会有Nag窗口出来Nag我了。</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/allow-struts-menu-to-access-resourcebundle-of-webwork/">让Struts-Menu能访问WebWork的ResourceBundle</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2006-03-12T07:01:48+08:00'><span class='date'><span class='date-month'>Mar</span> <span class='date-day'>12</span><span class='date-suffix'>th</span>, <span class='date-year'>2006</span></span> <span class='time'>7:01 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Struts-Menu默认是通过JSTL或者Struts来读取ResourceBundle的，这就需要在web.xml中配置要读取的properties文件（JSTL方式）或在struts-config.xml中配置（Struts方式）。
WebWork也有自己的ResourceBundle配置方式，而且Struts-Menu也不支持访问WebWork的ResourceBundle的功能。所以参考着DisplayTag的实现对Struts-Menu进行了一番手术，实现了可访问WebWork的ResourceBundle的功能。</p>

<p>下面是修改步骤：</p>

<ul>
<li>在Struts-Menu项目中增加net/sf/navigator/localization目录，将org.displaytag.localization中的*.java移到该目录中；</li>
<li>将org.displaytag下的Message.java和messages.properties移到net/sf/navigator目录下；</li>
<li>给MenuDisplayerMapping添加两个属性localeResover和ResourceProvider；</li>
<li>在struts-menu.xml的Displayer标签下添加：</li>
</ul>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;setProperty property="localeResover" value="net.sf.navigator.localization.I18nWebworkAdapter" /&gt;
</span><span class='line'>&lt;setProperty property="resourceProvider" value="net.sf.navigator.localization.I18nWebworkAdapter" /&gt;</span></code></pre></td></tr></table></div></figure>

<ul>
<li>在MenuDisplayer中添加以下四个接口方法，并在AbstractMenuDisplayer里实现它们：</li>
</ul>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>public LocaleResolver getLocaleResolver();
</span><span class='line'>public void setLocaleResolver(LocaleResolver localeResolver);
</span><span class='line'>public I18nResourceProvider getResourceProvider();
</span><span class='line'>public void setResourceProvider(I18nResourceProvider resourceProvider);</span></code></pre></td></tr></table></div></figure>

<ul>
<li>在AbstractMenuDisplayer里添加protected的PageContext对象，并在init方法里初始化它；</li>
<li>覆写MessageResourcesMenuDisplayer.getMessage方法，代码如下：</li>
</ul>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>public String getMessage(String key) {
</span><span class='line'>    String message = null;
</span><span class='line'>
</span><span class='line'>    if (resourceProvider != null) {
</span><span class='line'>        message = resourceProvider.getResource(key, "???", null, pageContext);
</span><span class='line'>    }
</span><span class='line'>    if (message == null) {
</span><span class='line'>        message = key;
</span><span class='line'>    }
</span><span class='line'>
</span><span class='line'>    return message;
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>

<ul>
<li>在UseMenuDisplayerTag文件里添加代码（+后的代码是增加的）：</li>
</ul>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>  // get an instance of the menu displayer
</span><span class='line'>  MenuDisplayer displayerInstance = null;
</span><span class='line'>+ LocaleResolver localeResolver = null;
</span><span class='line'>+ I18nResourceProvider resourceProvider = null;
</span><span class='line'>
</span><span class='line'>  // default to use the config on the mapping
</span><span class='line'>  if (displayerMapping.getConfig() != null) {
</span><span class='line'>      // this value (config) is set on the displayer below
</span><span class='line'>      setConfig(displayerMapping.getConfig());
</span><span class='line'>  }
</span><span class='line'>+ localeResolver =
</span><span class='line'>+         (LocaleResolver) Class.forName(displayerMapping.getLocaleResover()).newInstance();
</span><span class='line'>+ resourceProvider =
</span><span class='line'>+         (I18nResourceProvider) Class.forName(displayerMapping.getLocaleProvider()).newInstance();
</span><span class='line'>
</span><span class='line'>  displayerInstance.setConfig(config);
</span><span class='line'>+ displayerInstance.setResourceProvider(resourceProvider);
</span><span class='line'>+ displayerInstance.setLocaleResolver(localeResolver);</span></code></pre></td></tr></table></div></figure>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/ant-series-problem-using-emma-measure-test-coverage/">Ant系列之用EMMA测量测试覆盖率的问题</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2006-01-16T09:12:26+08:00'><span class='date'><span class='date-month'>Jan</span> <span class='date-day'>16</span><span class='date-suffix'>th</span>, <span class='date-year'>2006</span></span> <span class='time'>9:12 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>EMMA是一个coverage工具，有on-the-fly和offline两种使用方式，在Ant里通常采用offline方式。</p>

<p>到sourceforge下载了2.0版本的EMMA下来，由于将EMMA的生成文件做了重定向，因此遇到了些问题，比如出现以下错误：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>nothing to do: no runtime coverage data found in any of the data files</span></code></pre></td></tr></table></div></figure>

<p>查找EMMA的FAQ 3.7节，只是告诉你可能少了metadata和runtime coverate date（对Ant用户来说一般是少了runtime coveraget date，它的后缀名默认是ec）。</p>

<p>由FAQ 3.15节可以知道runtime coverage data文件默认是生成在user.dir目录下的（即build.xml中的basedir目录下），而由instr指令生成的metadata文件（后缀名默认为em）则已经被重定向到另外的目录（用来生成coverage report的地方），所以必须重新设置coverage.out.file的值，用来重定向生成的runtime coverage data。因为runtime coverage data是在junit任务执行时产生的，所以我们可以在junit任务中添加一行代码：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;sysproperty key="emma.coverage.out.file" value="${coverage.dir}/coverage.emma" /&gt;</span></code></pre></td></tr></table></div></figure>

<p>注意：</p>

<ol>
<li>metadata和runtime文件的后缀名最好设置相同；</li>
<li>一定要将junit任务的fork属性设置为true，这是因为EMMA 2.0的runtime coverage data是在JVM退出后生成的；</li>
<li>instrumented classes必须是第一个被JVM执行的，所以instrumented classes目录必须处在junit任务的classpath的第一行，具体原因不明，如果谁知道还请告知下。</li>
</ol>

<p>其实EMMA附带的examples目录下的build-offline.xml里已经说明的很详细了，只不过下载后没有仔细看，才遇到了一些问题。下面是build.xml的部分代码：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;path id="classpath"&gt;
</span><span class='line'>  &lt;pathelement location="${instrumentedclasses}" /&gt;
</span><span class='line'>  &lt;pathelement location="${classes}" /&gt;
</span><span class='line'>  &lt;pathelement location="${testclasses}" /&gt;
</span><span class='line'>  &lt;fileset dir="${lib}" includes="**/*.jar" /&gt;
</span><span class='line'>&lt;/path&gt;
</span><span class='line'>
</span><span class='line'>&lt;target name="compile" depends="prepare"&gt;
</span><span class='line'>  &lt;javac srcdir="${src}" destdir="${classes}" debug="on"&gt;
</span><span class='line'>    &lt;classpath refid="classpath" /&gt;
</span><span class='line'>  &lt;/javac&gt;
</span><span class='line'>  &lt;javac srcdir="${test}" destdir="${testclasses}" debug="on"&gt;
</span><span class='line'>    &lt;classpath refid="classpath" /&gt;
</span><span class='line'>  &lt;/javac&gt;
</span><span class='line'>&lt;/target&gt;
</span><span class='line'>
</span><span class='line'>&lt;target name="coverage.instrument" depends="compile"&gt;
</span><span class='line'>  &lt;emma enabled="yes"&gt;
</span><span class='line'>    &lt;instr instrpath="${classes}" destdir="${instrumentedclasses}"
</span><span class='line'>        metadatafile="{coveragereports}/metadata.emma" merge="true"&gt;
</span><span class='line'>    &lt;/instr&gt;
</span><span class='line'>  &lt;/emma&gt;
</span><span class='line'>&lt;/target&gt;
</span><span class='line'>
</span><span class='line'>&lt;target name="junit" depends="coverage.instrument"&gt;
</span><span class='line'>  &lt;junit printsummary="yes" haltonfailure="no" fork="true"&gt;
</span><span class='line'>    &lt;sysproperty key="emma.coverage.out.file" value="${coveragereports}/coverage.emma" /&gt;
</span><span class='line'>    &lt;classpath refid="classpath" /&gt;
</span><span class='line'>
</span><span class='line'>    &lt;formatter type="xml" /&gt;
</span><span class='line'>
</span><span class='line'>    &lt;batchtest fork="yes" todir="${junitreports}"&gt;
</span><span class='line'>      &lt;fileset dir="${test}"&gt;
</span><span class='line'>        &lt;include name="**/*Test*.java" /&gt;
</span><span class='line'>      &lt;/fileset&gt;
</span><span class='line'>    &lt;/batchtest&gt;
</span><span class='line'>  &lt;/junit&gt;
</span><span class='line'>&lt;/target&gt;
</span><span class='line'>
</span><span class='line'>&lt;target name="coverage.report" depends="test"&gt;
</span><span class='line'>  &lt;emma enabled="yes"&gt;
</span><span class='line'>    &lt;report sourcepath="${src}"&gt;
</span><span class='line'>      &lt;fileset dir="${coveragereports}"&gt;
</span><span class='line'>        &lt;include name="*.emma" /&gt;
</span><span class='line'>      &lt;/fileset&gt;
</span><span class='line'>
</span><span class='line'>      &lt;html outfile="${coveragereports}/coverage.html" depth="method" /&gt;
</span><span class='line'>    &lt;/report&gt;
</span><span class='line'>  &lt;/emma&gt;
</span><span class='line'>&lt;/target&gt;</span></code></pre></td></tr></table></div></figure>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/fix-problem-incorrect-file-count-in-summary-section-of-checkstyle-report/">修复CheckStyle报告中Summary部分文件数目错误问题</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2005-12-30T22:22:44+08:00'><span class='date'><span class='date-month'>Dec</span> <span class='date-day'>30</span><span class='date-suffix'>th</span>, <span class='date-year'>2005</span></span> <span class='time'>10:22 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>在使用CheckStyle时用了它提供的checkstyle-frames.xsl作为样式文件，不过checkstyle-frames.xsl生成报告时有些问题，主要是统计数据有点问题，Summary中报告的文件数目比真实的多，所以对xsl文件的summary模板作了小小的一些修改，解决了这个问题，且添加了一个统计有错误的文件个数的功能。</p>

<p>原来的xsl内容：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;xsl:template match="checkstyle" mode="summary"&gt;
</span><span class='line'>    &lt;h3&gt;Summary&lt;/h3&gt;
</span><span class='line'>    &lt;xsl:variable name="fileCount" select="count(file)"/&gt;
</span><span class='line'>    &lt;xsl:variable name="errorCount" select="count(file/error)"/&gt;
</span><span class='line'>    &lt;table class="log" border="0" cellpadding="5" cellspacing="2" width="100%"&gt;
</span><span class='line'>        &lt;tr&gt;
</span><span class='line'>            &lt;th&gt;Files&lt;/th&gt;
</span><span class='line'>            &lt;th&gt;Errors&lt;/th&gt;
</span><span class='line'>        &lt;/tr&gt;
</span><span class='line'>        &lt;tr&gt;
</span><span class='line'>            &lt;xsl:call-template name="alternated-row"/&gt;
</span><span class='line'>            &lt;td&gt;&lt;xsl:value-of select="$fileCount"/&gt;&lt;/td&gt;
</span><span class='line'>            &lt;td&gt;&lt;xsl:value-of select="$errorCount"/&gt;&lt;/td&gt;
</span><span class='line'>        &lt;/tr&gt;
</span><span class='line'>    &lt;/table&gt;
</span><span class='line'>&lt;/xsl:template&gt;</span></code></pre></td></tr></table></div></figure>

<p>修改后的内容：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;xsl:template match="checkstyle" mode="summary"&gt;
</span><span class='line'>    &lt;h3&gt;Summary&lt;/h3&gt;
</span><span class='line'>    &lt;xsl:variable name="fileCount"&gt;
</span><span class='line'>        &lt;xsl:value-of select="count(file[not(./@name = preceding-sibling::file/@name)])" /&gt;
</span><span class='line'>    &lt;/xsl:variable&gt;
</span><span class='line'>    &lt;xsl:variable name="fileErrorCount" select="count(file[count(error) &gt; 0])" /&gt;
</span><span class='line'>    &lt;xsl:variable name="errorCount" select="count(file/error)" /&gt;
</span><span class='line'>    &lt;table class="log" border="0" cellpadding="5" cellspacing="2" width="100%"&gt;
</span><span class='line'>        &lt;tr&gt;
</span><span class='line'>            &lt;th&gt;Total Files&lt;/th&gt;
</span><span class='line'>            &lt;th&gt;Files With Errors&lt;/th&gt;
</span><span class='line'>            &lt;th&gt;Errors&lt;/th&gt;
</span><span class='line'>        &lt;/tr&gt;
</span><span class='line'>        &lt;tr&gt;
</span><span class='line'>            &lt;xsl:call-template name="alternated-row" /&gt;
</span><span class='line'>            &lt;td&gt;&lt;xsl:value-of select="$fileCount" /&gt;&lt;/td&gt;
</span><span class='line'>            &lt;td&gt;&lt;xsl:value-of select="$fileErrorCount" /&gt;&lt;/td&gt;
</span><span class='line'>            &lt;td&gt;&lt;xsl:value-of select="$errorCount" /&gt;&lt;/td&gt;
</span><span class='line'>        &lt;/tr&gt;
</span><span class='line'>    &lt;/table&gt;
</span><span class='line'>&lt;/xsl:template&gt;</span></code></pre></td></tr></table></div></figure>

<ul>
<li>following-sibling 按文档顺序选择文档中此后出现的当前节点的所有兄弟节点。</li>
<li>preceding-silbling 按与文档顺序相反的方向选择文档中此前出现的当前节点的所有兄弟节点。</li>
<li>following 除当前节点的所有后代节点外，按顺序选择文档中当前节点之后出现的所有节点，不包括属性节点或名称空间节点。</li>
<li>preceding 按与文档方向顺序相反的方向选择文档中在当前节点之前出现的所有节点。</li>
</ul>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/ant-series-problem-using-jdepend-generate-package-dependency-metrics/">Ant系列之用JDepend生成包依赖性度量的问题</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2005-12-29T18:04:59+08:00'><span class='date'><span class='date-month'>Dec</span> <span class='date-day'>29</span><span class='date-suffix'>th</span>, <span class='date-year'>2005</span></span> <span class='time'>6:04 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>首先获取JDepend的最新jar文件jdepend-2.9.jar，把它添加到ANT_HOME/lib目录里。</p>

<p>在build.xml中添加：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;target name="jdepend" description="Generate dependency metrics for each package"&gt;
</span><span class='line'>    &lt;jdepend format="xml" outputfile="${jdepend.dir}/jdepend-report.xml"&gt;
</span><span class='line'>        &lt;classpath&gt;
</span><span class='line'>            &lt;pathelement path="classes" /&gt;
</span><span class='line'>        &lt;/classpath&gt;
</span><span class='line'>    &lt;/jdepend&gt;
</span><span class='line'>&lt;/target&gt;</span></code></pre></td></tr></table></div></figure>

<p>运行任务后出现如下的错误：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>BUILD FAILED
</span><span class='line'>build.xml:59: Missing classespath required argument
</span><span class='line'>    at org.apache.tools.ant.taskdefs.optional.jdepend.JDependTask.execute(JDependTask.java:397)
</span><span class='line'>    at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:275)
</span><span class='line'>    at org.apache.tools.ant.Task.perform(Task.java:364)
</span><span class='line'>    at org.apache.tools.ant.Target.execute(Target.java:341)
</span><span class='line'>    at org.apache.tools.ant.Target.performTasks(Target.java:369)
</span><span class='line'>    at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1216)
</span><span class='line'>    at org.apache.tools.ant.Project.executeTarget(Project.java:1185)
</span><span class='line'>    at org.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.java:40)
</span><span class='line'>    at org.eclipse.ant.internal.ui.antsupport.EclipseDefaultExecutor.executeTargets(EclipseDefaultExecutor.java:32)
</span><span class='line'>    at org.apache.tools.ant.Project.executeTargets(Project.java:1068)
</span><span class='line'>    at org.eclipse.ant.internal.ui.antsupport.InternalAntRunner.run(InternalAntRunner.java:423)
</span><span class='line'>    at org.eclipse.ant.internal.ui.antsupport.InternalAntRunner.main(InternalAntRunner.java:137)</span></code></pre></td></tr></table></div></figure>

<p>查看JDependTask.java文件的397行：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>if (getSourcespath() == null && getClassespath() == null) {
</span><span class='line'>    throw new BuildException("Missing classespath required argument");
</span><span class='line'>} else if (getClassespath() == null) {
</span><span class='line'>    String msg = "sourcespath is deprecated in JDepend &gt;= 2.5 - please convert to classespath";
</span><span class='line'>    log(msg);
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>

<p>发现是getClassespath() == null了，跳到221行：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>public Path getClassespath() {
</span><span class='line'>    return classesPath;
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>

<p>不是写了classpath吗？怎么classesPath的值会等于null呢？结果发现在247行有：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>public void setClasspath(Path classpath) {
</span><span class='line'>    if (compileClasspath == null) {
</span><span class='line'>        compileClasspath = classpath;
</span><span class='line'>    } else {
</span><span class='line'>        compileClasspath.append(classpath);
</span><span class='line'>    }
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>

<p>原来是在build.xml中把classespath错写成classpath了，那样当然有问题啦。改过来，再运行就可以了。</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/ant-series-problem-using-checkstyle-check-code-style/">Ant系列之用Checkstyle检查代码规范的问题</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2005-12-17T20:33:54+08:00'><span class='date'><span class='date-month'>Dec</span> <span class='date-day'>17</span><span class='date-suffix'>th</span>, <span class='date-year'>2005</span></span> <span class='time'>8:33 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>首先将checkstyle-all-4.1.jar文件拷贝到项目的lib目录下，并建立CheckStyle配置文件。</p>

<p>然后在build.xml文件中声明CheckStyle任务:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;taskdef resource="checkstyletask.properties" classpath="${lib.dir}/checkstyle-all-4.1.jar" /&gt;</span></code></pre></td></tr></table></div></figure>

<p>接着是建立CheckStyle任务：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;target name="checkstyle" description="Generates a report of code convention violations."&gt;
</span><span class='line'>    &lt;checkstyle config="${docs.dir}/checkstyle_checks.xml" failOnViolation="false"&gt;
</span><span class='line'>        &lt;fileset dir="${src.dir}" includes="**/*.java" /&gt;
</span><span class='line'>        &lt;formatter type="xml" toFile="${checkstyle.dir}/checkstyle_report.xml" /&gt;
</span><span class='line'>    &lt;/checkstyle&gt;
</span><span class='line'>    &lt;xslt basedir="${checkstyle.dir}" destdir="${checkstyle.dir}/html" extension=".html"
</span><span class='line'>            style="${docs.dir}/checkstyle-frames.xsl"&gt;
</span><span class='line'>        &lt;param name="output.dir" expression="${checkstyle.dir}/html" /&gt;
</span><span class='line'>    &lt;/xslt&gt;
</span><span class='line'>&lt;/target&gt;</span></code></pre></td></tr></table></div></figure>

<p>其中output.dir是checkstyle-frames.xsl中的参数：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;xsl:param name="output.dir" /&gt;</span></code></pre></td></tr></table></div></figure>

<p>在运行任务时可能会出现如下异常：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>javax.xml.transform.TransformerException: java.lang.RuntimeException: Unrecognized XSLTC extension 'org.apache.xalan.xslt.extensions.Redirect:write'</span></code></pre></td></tr></table></div></figure>

<p>可以将checkstyle-frames.xsl中的：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>xmlns:redirect="org.apache.xalan.xslt.extensions.Redirect"</span></code></pre></td></tr></table></div></figure>

<p>改成下面的内容：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>xmlns:redirect="http://xml.apache.org/xalan/redirect"</span></code></pre></td></tr></table></div></figure>

<p>如果出现这样的异常：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Got an exception - java.lang.RuntimeException: Unable to get class information for</span></code></pre></td></tr></table></div></figure>

<p>可以修改对抛出异常的限制：允许抛出Unchecked异常和抛出另一个已声明异常的子类。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;module name="RedundantThrows"&gt;
</span><span class='line'>    &lt;property name="allowUnchecked" value="true" /&gt;
</span><span class='line'>    &lt;property name="allowSubclasses" value="true" /&gt;
</span><span class='line'>&lt;/module&gt;</span></code></pre></td></tr></table></div></figure>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/how-to-implement-i18n-in-webwork/">WebWork中如何实现i18n</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2005-11-17T13:57:14+08:00'><span class='date'><span class='date-month'>Nov</span> <span class='date-day'>17</span><span class='date-suffix'>th</span>, <span class='date-year'>2005</span></span> <span class='time'>1:57 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>ognl-2.6.5.jar + oscore-2.2.4.jar + webwork-2.1.7.jar + xwork-1.0.5.jar</p>

<p>web.xml配置文件的内容：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;?xml version="1.0" encoding="utf-8"?&gt;
</span><span class='line'>&lt;!DOCTYPE web-app PUBLIC
</span><span class='line'>    "-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN"
</span><span class='line'>    "http://java.sun.com/dtd/web-app_2_3.dtd"&gt;
</span><span class='line'>
</span><span class='line'>&lt;web-app&gt;
</span><span class='line'>    &lt;display-name&gt;i18n&lt;/display-name&gt;
</span><span class='line'>
</span><span class='line'>    &lt;servlet&gt;
</span><span class='line'>        &lt;servlet-name&gt;action&lt;/servlet-name&gt;
</span><span class='line'>        &lt;servlet-class&gt;com.opensymphony.webwork.dispatcher.ServletDispatcher&lt;/servlet-class&gt;
</span><span class='line'>        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;
</span><span class='line'>    &lt;/servlet&gt;
</span><span class='line'>
</span><span class='line'>    &lt;servlet-mapping&gt;
</span><span class='line'>        &lt;servlet-name&gt;action&lt;/servlet-name&gt;
</span><span class='line'>        &lt;url-pattern&gt;*.html&lt;/url-pattern&gt;
</span><span class='line'>    &lt;/servlet-mapping&gt;
</span><span class='line'>
</span><span class='line'>    &lt;taglib&gt;
</span><span class='line'>        &lt;taglib-uri&gt;webwork&lt;/taglib-uri&gt;
</span><span class='line'>        &lt;taglib-location&gt;/WEB-INF/webwork.tld&lt;/taglib-location&gt;
</span><span class='line'>    &lt;/taglib&gt;
</span><span class='line'>&lt;/web-app&gt;</span></code></pre></td></tr></table></div></figure>

<p>webwork.properties配置文件：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>### This can be used to set your locale and encoding scheme
</span><span class='line'>#webwork.locale=en_US    &lt;- 这行一定要注释掉，因为WebWork首先判断webwork.locale有没有被设置，
</span><span class='line'>                            如有则始终以该locale为准，忽略浏览器的locale
</span><span class='line'>webwork.i18n.encoding=utf-8
</span><span class='line'>
</span><span class='line'>### Load custom default resource bundles
</span><span class='line'>webwork.custom.i18n.resources=ApplicationResources</span></code></pre></td></tr></table></div></figure>

<p>xwork.xml配置文件的内容：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;?xml version="1.0" encoding="utf-8"?&gt;
</span><span class='line'>&lt;!DOCTYPE xwork PUBLIC
</span><span class='line'>    "-//OpenSymphony Group//XWork 1.0//EN"
</span><span class='line'>    "http://www.opensymphony.com/xwork/xwork-1.0.dtd"&gt;
</span><span class='line'>
</span><span class='line'>&lt;xwork&gt;
</span><span class='line'>    &lt;include file="webwork-default.xml" /&gt;
</span><span class='line'>
</span><span class='line'>    &lt;package name="default" extends="webwork-default"&gt;
</span><span class='line'>        &lt;action name="hello" class="com.codemany.i18n.action.HelloAction"&gt;
</span><span class='line'>            &lt;result name="success" type="dispatcher"&gt;/i18n.jsp&lt;/result&gt;
</span><span class='line'>        &lt;/action&gt;
</span><span class='line'>    &lt;/package&gt;
</span><span class='line'>&lt;/xwork&gt;</span></code></pre></td></tr></table></div></figure>

<p>HelloAction.java实现代码：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>import com.opensymphony.xwork.ActionSupport;
</span><span class='line'>
</span><span class='line'>public class HelloAction extends ActionSupport {
</span><span class='line'>
</span><span class='line'>    public String execute() throws Exception {
</span><span class='line'>        return SUCCESS;
</span><span class='line'>    }
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>

<p>i18n.jsp的代码：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;%@ page pageEncoding="utf-8" contentType="text/html; charset=utf-8" %&gt;
</span><span class='line'>
</span><span class='line'>&lt;%@ taglib uri="webwork" prefix="ww" %&gt;
</span><span class='line'>
</span><span class='line'>&lt;html&gt;
</span><span class='line'>&lt;head&gt;
</span><span class='line'>    &lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;
</span><span class='line'>&lt;/head&gt;
</span><span class='line'>
</span><span class='line'>&lt;body&gt;
</span><span class='line'>    &lt;ww:property value="getText('i18n.value')" /&gt;
</span><span class='line'>&lt;/body&gt;
</span><span class='line'>&lt;/html&gt;</span></code></pre></td></tr></table></div></figure>

<p>ApplicationResources_zh_CN.properties的内容：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>i18n.value=国际化</span></code></pre></td></tr></table></div></figure>

<p>ApplicationResources_en_US.properties的内容：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>i18n.value=internationalization</span></code></pre></td></tr></table></div></figure>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/learn-to-crack-cosh-crackme2/">练习破解'Crackme2 - by CoSH'</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2005-11-13T16:57:45+08:00'><span class='date'><span class='date-month'>Nov</span> <span class='date-day'>13</span><span class='date-suffix'>th</span>, <span class='date-year'>2005</span></span> <span class='time'>4:57 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="/uploads/crackme2.zip" title="crackme2.zip">Crackme2程序</a></p>

<ol>
<li>用PEiD查看，程序没有加壳；</li>
<li>首先找到注册错误提示信息“One of the Details you entered was wrong”；</li>
<li>用W32Dasm反汇编，利用String Data References找到上述字符串，双击它，看到以下程序：</li>
</ol>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>* Reference To: MFC42.Ordinal:0F24, Ord:0F24h
</span><span class='line'>|
</span><span class='line'>:004014EB E85A030000              call 0040184A
</span><span class='line'>:004014F0 83F805                  cmp eax, 00000005                 -&gt; 比较Name的长度是否不大于5
</span><span class='line'>:004014F3 7E41                    jle 00401536                      -&gt; 如果是就跳到出错信息处
</span><span class='line'>:004014F5 8D86E0000000            lea eax, dword ptr [esi+000000E0] -&gt; Name字符串的地址
</span><span class='line'>:004014FB 8BCF                    mov ecx, edi
</span><span class='line'>:004014FD 50                      push eax
</span><span class='line'>
</span><span class='line'>* Reference To: MFC42.Ordinal:0F22, Ord:0F22h
</span><span class='line'>|
</span><span class='line'>:004014FE E841030000              call 00401844
</span><span class='line'>:00401503 8DBEE4000000            lea edi, dword ptr [esi+000000E4] -&gt; Serial字符串的地址
</span><span class='line'>:00401509 8BCD                    mov ecx, ebp
</span><span class='line'>:0040150B 57                      push edi</span></code></pre></td></tr></table></div></figure>

<p>从004014F0到004014F3可以知道Name必须大于5个字符，且和Serial无关。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>* Reference To: MFC42.Ordinal:0F22, Ord:0F22h
</span><span class='line'>|
</span><span class='line'>:0040150C E833030000              call 00401844
</span><span class='line'>:00401511 8B07                    mov eax, dword ptr [edi]
</span><span class='line'>:00401513 803836                  cmp byte ptr [eax], 36
</span><span class='line'>:00401516 751E                    jne 00401536                      -&gt; 跳到出错信息处
</span><span class='line'>:00401518 80780132                cmp byte ptr [eax+01], 32
</span><span class='line'>:0040151C 7518                    jne 00401536                      -&gt; 跳到出错信息处
</span><span class='line'>:0040151E 80780238                cmp byte ptr [eax+02], 38
</span><span class='line'>:00401522 7512                    jne 00401536                      -&gt; 跳到出错信息处
</span><span class='line'>:00401524 80780337                cmp byte ptr [eax+03], 37
</span><span class='line'>:00401528 750C                    jne 00401536                      -&gt; 跳到出错信息处
</span><span class='line'>:0040152A 8078042D                cmp byte ptr [eax+04], 2D
</span><span class='line'>:0040152E 7506                    jne 00401536                      -&gt; 跳到出错信息处
</span><span class='line'>:00401530 80780541                cmp byte ptr [eax+05], 41
</span><span class='line'>:00401534 7417                    je 0040154D                       -&gt; 跳到正确信息处</span></code></pre></td></tr></table></div></figure>

<p>由上面的比较代码可以得到：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>36(hex) = 6
</span><span class='line'>32(hex) = 2
</span><span class='line'>38(hex) = 8
</span><span class='line'>37(hex) = 7
</span><span class='line'>2D(hex) = -
</span><span class='line'>41(hex) = A</span></code></pre></td></tr></table></div></figure>

<p>所以Serial是：6287-A</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>* Referenced by a (U)nconditional or (C)onditional Jump at Addresses:
</span><span class='line'>|:004014E4(C), :004014F3(C), :00401516(C), :0040151C(C), :00401522(C)
</span><span class='line'>|:00401528(C), :0040152E(C)
</span><span class='line'>|
</span><span class='line'>:00401536 6A00                    push 00000000
</span><span class='line'>
</span><span class='line'>* Possible StringData Ref from Data Obj -&gt;"ERROR"
</span><span class='line'>|
</span><span class='line'>:00401538 6864304000              push 00403064
</span><span class='line'>
</span><span class='line'>* Possible StringData Ref from Data Obj -&gt;"One of the Details you entered was wrong"
</span><span class='line'>|
</span><span class='line'>:0040153D 6838304000              push 00403038
</span><span class='line'>:00401542 8BCE                    mov ecx, esi
</span><span class='line'>
</span><span class='line'>* Reference To: MFC42.Ordinal:1080, Ord:1080h
</span><span class='line'>|
</span><span class='line'>:00401544 E8F5020000              Call 0040183E
</span><span class='line'>:00401549 6A00                    push 00000000
</span><span class='line'>:0040154B FFD3                    call ebx
</span><span class='line'>
</span><span class='line'>* Referenced by a (U)nconditional or (C)onditional Jump at Address:
</span><span class='line'>|:00401534(C)
</span><span class='line'>|
</span><span class='line'>:0040154D 8D8EE0000000            lea ecx, dword ptr [esi+000000E0]
</span><span class='line'>:00401553 8D542414                lea edx, dword ptr [esp+14]
</span><span class='line'>:00401557 51                      push ecx
</span><span class='line'>
</span><span class='line'>* Possible StringData Ref from Data Obj -&gt;"Well done,"
</span><span class='line'>|
</span><span class='line'>:00401558 682C304000              push 0040302C
</span><span class='line'>:0040155D 52                      push edx
</span><span class='line'>
</span><span class='line'>* Reference To: MFC42.Ordinal:039E, Ord:039Eh
</span><span class='line'>|
</span><span class='line'>:0040155E E8D5020000              Call 00401838
</span><span class='line'>:00401563 683C314000              push 0040313C
</span><span class='line'>:00401568 50                      push eax
</span><span class='line'>:00401569 8D442418                lea eax, dword ptr [esp+18]
</span><span class='line'>:0040156D C744242800000000        mov [esp+28], 00000000
</span><span class='line'>:00401575 50                      push eax
</span><span class='line'>
</span><span class='line'>* Reference To: MFC42.Ordinal:039C, Ord:039Ch
</span><span class='line'>|
</span><span class='line'>:00401576 E8B7020000              Call 00401832
</span><span class='line'>:0040157B 8B00                    mov eax, dword ptr [eax]
</span><span class='line'>:0040157D 6A00                    push 00000000
</span><span class='line'>
</span><span class='line'>* Possible StringData Ref from Data Obj -&gt;"YOU DID IT"
</span><span class='line'>|
</span><span class='line'>:0040157F 6820304000              push 00403020
</span><span class='line'>:00401584 50                      push eax
</span><span class='line'>:00401585 8BCE                    mov ecx, esi
</span><span class='line'>:00401587 C644242C01              mov [esp+2C], 01</span></code></pre></td></tr></table></div></figure>

<p>整理后得到：Name的长度必须大于5个字符，且和Serial无关。</p>

<p>小技巧：如何截取W32Dasm中的汇编代码呢？很简单，在W32Dasm中点击其最左边，会有一红点，再按Shift键，点击另一处，选中所需范围，按Ctrl+C复制到剪贴版，剩下的事就是粘贴了。</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/remove-popup-ie-window-at-china-games-exit/">去除退出中国游戏中心时弹出的IE窗口</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2005-11-02T23:23:57+08:00'><span class='date'><span class='date-month'>Nov</span> <span class='date-day'>2</span><span class='date-suffix'>nd</span>, <span class='date-year'>2005</span></span> <span class='time'>11:23 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>这次破解的版本是0.8.011.4。</p>

<p>中国游戏中心退出时弹出的IE窗口很烦人，决定做个补丁把它去除掉。</p>

<p>省略无数次尝试……确定退出中国游戏中心后打开的网页地址是 <a href="http://www.chinagames.net/PlazaJump/open">http://www.chinagames.net/PlazaJump/open</a> 。用W32Dasm反汇编iGame.exe，通过String Data References找到网址字符串，双击该字符串，看到以下程序：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>:0043397A 90                nop
</span><span class='line'>:0043397B 90                nop
</span><span class='line'>:0043397C 90                nop
</span><span class='line'>:0043397D 90                nop
</span><span class='line'>:0043397E 90                nop
</span><span class='line'>:0043397F 90                nop
</span><span class='line'>:00433980 A1A2034800        mov eax, dword ptr [004803A2]
</span><span class='line'>:00433985 56                push esi
</span><span class='line'>:00433986 85C0              test eax, eax
</span><span class='line'>:00433988 8BF1              mov esi, ecx
</span><span class='line'>:0043398A 7411              je 0043399D               -&gt; 判断是否要打开IE窗口
</span><span class='line'>:0043398C 6A00              push 00000000
</span><span class='line'>
</span><span class='line'>* Possible StringData Ref from Data Obj -&gt;"http://www.chinagames.net/PlazaJump/open/"
</span><span class='line'>|
</span><span class='line'>:0043398E 6860D84700        push 0047D860
</span><span class='line'>:00433993 B9D0FC4700        mov ecx, 0047FCD0
</span><span class='line'>:00433998 E8B3D2FFFF        call 00430C50             -&gt; 打开IE窗口
</span><span class='line'>
</span><span class='line'>* Referenced by a (U)nconditional or (C)onditional Jump at Address:
</span><span class='line'>|:0043398A(C)
</span><span class='line'>|
</span><span class='line'>:0043399D 8BCE              mov ecx, esi</span></code></pre></td></tr></table></div></figure>

<p>从上面可以知道，只要将0043398A处的je指令改成jmp指令就可以避免退出时弹出的IE窗口了。</p>

<p>现在使用CodeFusion来制作一个文件补丁。它有三种制作补丁的方案，这里使用Find&amp;Replace方法。将0043397A到00433998段的数据作为查找匹配数据，并将0043398A处的74（je指令）改成eb（jmp指令），然后按照步骤生成补丁文件就可以了。</p>

<p>2008/3/19更新</p>

<p>应ls的要求制作了一个针对最新版本（0.8.011.10）的补丁，和原来的补丁放在一起提供下载。</p>

<p><a href="/uploads/chinagames-patch.zip" title="chinagames-patch.zip">补丁文件</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/speaker-sound-program-in-c-language/">C语言的扬声器发声程序</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2005-10-05T09:55:46+08:00'><span class='date'><span class='date-month'>Oct</span> <span class='date-day'>5</span><span class='date-suffix'>th</span>, <span class='date-year'>2005</span></span> <span class='time'>9:55 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>计算机的主板通常装有8253/8254定时与计数器芯片和8255可编程并行接口芯片，由它们组成的硬件电路可用来产生扬声器的声音。目前的计算机由于采用了超大规模集成电路，因而看不到这些芯片，它们均集成在外围电路芯片中。以下是扬声器的电路图：</p>

<p><img src="/uploads/speaker-sound.png" title="speaker-sound" ></p>

<p>使用程序对这些电路编程可以控制声音的长短和音调的高低。在扬声器电路中，定时器的频率决定了扬声器发音的频率，所以可通过设定定时器电路的频率来使扬声器发出不同的声音。对定时器电路进行频率设定时，首先对其命令寄存器端口地址0x43写命令来选择定时器的通道，接着向计数寄存器端口地址0x42发送频率计数值，先送低8位，后送高8位。通过这两步使定时器电路产生一系列的方波信号，此信号能否推动扬声器发音，还要看由8255产生的送数信号和门控信号是否为1，而它们也是可以编程的，端口地址为0x61。以下是完整的实现代码：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>#include &lt;dos.h&gt;
</span><span class='line'>#include &lt;conio.h&gt;
</span><span class='line'>
</span><span class='line'>#define FREQ 1193180.0
</span><span class='line'>
</span><span class='line'>unsigned long getticks()
</span><span class='line'>{
</span><span class='line'>    union REGS regs;
</span><span class='line'>
</span><span class='line'>    regs.h.ah = 0x00;
</span><span class='line'>    int86(0x1a, &regs, &regs);
</span><span class='line'>    return ((unsigned long)regs.x.cx &lt;&lt; 16) + regs.x.dx;
</span><span class='line'>}
</span><span class='line'>
</span><span class='line'>void beep(int tone)
</span><span class='line'>{
</span><span class='line'>    unsigned long ticks;
</span><span class='line'>    unsigned char bits;
</span><span class='line'>    unsigned short count;
</span><span class='line'>
</span><span class='line'>    count = FREQ / tone;
</span><span class='line'>    outportb(0x43, 0xb6);    /* 选择定时器的某个通道 */
</span><span class='line'>    outportb(0x42, (unsigned char)(count & 0xff));    /* 发声频率计数值的低8位 */
</span><span class='line'>    outportb(0x42, (unsigned char)(count &gt;&gt; 8));    /* 发声频率计数值的高8位 */
</span><span class='line'>
</span><span class='line'>    ticks = getticks();
</span><span class='line'>    while (ticks == getticks())
</span><span class='line'>        ;
</span><span class='line'>
</span><span class='line'>    /*
</span><span class='line'>     * 当8255的PB端口的第0位和第1位为1时，表示允许发声；
</span><span class='line'>     * 为0时，表示禁止发声。
</span><span class='line'>     */
</span><span class='line'>    bits = inportb(0x61);
</span><span class='line'>    outportb(0x61, bits | 3);    /* 允许发声 */
</span><span class='line'>    ticks += 2;
</span><span class='line'>    while (getticks() &lt; ticks)
</span><span class='line'>        ;
</span><span class='line'>    outportb(0x61, bits & 0xfc);    /* 禁止发声 */
</span><span class='line'>}
</span><span class='line'>
</span><span class='line'>void main()
</span><span class='line'>{
</span><span class='line'>    do
</span><span class='line'>    {
</span><span class='line'>        beep(1046.50);
</span><span class='line'>    } while (!kbhit());
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/posts/29">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/posts/27">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/learn-anything-faster-with-the-feynman-technique/">费曼技巧：最好的学习方法</a>
      </li>
    
      <li class="post">
        <a href="/blog/code-coverage-100-percent-tragedy/">100%代码覆盖率的悲剧</a>
      </li>
    
      <li class="post">
        <a href="/blog/unconventional-way-of-learning-a-new-programming-language/">学习新编程语言的非传统方式</a>
      </li>
    
      <li class="post">
        <a href="/blog/the-impact-github-is-having-on-your-software-career-right-now/">GitHub对软件职业生涯的影响</a>
      </li>
    
      <li class="post">
        <a href="/blog/how-to-modify-hosts-in-android/">如何修改Android的hosts文件</a>
      </li>
    
  </ul>
</section>
<section>
  <h1>Recent Comments</h1>
  <div class="dsq-widget">
    <script type="text/javascript" src="http://codemany.disqus.com/recent_comments_widget.js"></script>
  </div>
</section>
<section>
  <h1>Tags</h1>
  <ul class="tag-cloud">
    <a style="font-size: 143%" href="/tags/antlr/">ANTLR</a>
<a style="font-size: 106%" href="/tags/algorithm/">Algorithm</a>
<a style="font-size: 134%" href="/tags/android/">Android</a>
<a style="font-size: 103%" href="/tags/c-plus-plus/">C++</a>
<a style="font-size: 106%" href="/tags/css/">CSS</a>
<a style="font-size: 109%" href="/tags/crack/">Crack</a>
<a style="font-size: 106%" href="/tags/database/">Database</a>
<a style="font-size: 96%" href="/tags/eclipse/">Eclipse</a>
<a style="font-size: 114%" href="/tags/git/">Git</a>
<a style="font-size: 96%" href="/tags/html/">HTML</a>
<a style="font-size: 103%" href="/tags/jbookshelf/">JBookShelf</a>
<a style="font-size: 147%" href="/tags/java/">Java</a>
<a style="font-size: 100%" href="/tags/javascript/">JavaScript</a>
<a style="font-size: 96%" href="/tags/listview/">ListView</a>
<a style="font-size: 103%" href="/tags/mysql/">MySQL</a>
<a style="font-size: 96%" href="/tags/paperclip/">Paperclip</a>
<a style="font-size: 118%" href="/tags/powerbuilder/">PowerBuilder</a>
<a style="font-size: 100%" href="/tags/powerscript/">PowerScript</a>
<a style="font-size: 116%" href="/tags/qianbao/">Qianbao</a>
<a style="font-size: 150%" href="/tags/rails/">Rails</a>
<a style="font-size: 118%" href="/tags/ruby/">Ruby</a>
<a style="font-size: 96%" href="/tags/spring/">Spring</a>
<a style="font-size: 100%" href="/tags/struts/">Struts</a>
<a style="font-size: 141%" href="/tags/translation/">Translation</a>
<a style="font-size: 96%" href="/tags/ubuntu/">Ubuntu</a>
<a style="font-size: 106%" href="/tags/windows-server-2008/">Windows Server 2008</a>
<a style="font-size: 106%" href="/tags/wxwidgets/">wxWidgets</a>

  </ul>
</section>
<section>
  <h1>Blogroll</h1>
  <ul>
    <li><a href="http://mindhacks.cn/">刘未鹏MIND HACKS</a></li>
    <li><a href="http://www.importnew.com/">ImportNew</a></li>
    <li><a href="http://ifeve.com/">并发编程网</a></li>
    <li><a href="http://codingnow.com/">云风的 BLOG</a></li>
    <li><a href="http://dbanotes.net/">DBA Notes</a></li>
    <li><a href="http://www.ruanyifeng.com/blog/">阮一峰的网络日志</a></li>
    <li><a href="http://advdbg.org/">高端调试</a></li>
    <li><a href="http://www.cs.usfca.edu/~galles/visualization/Algorithms.html">Data Structure Visualization</a></li>
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/dohkoos">@dohkoos</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'dohkoos',
            count: 5,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>

<section>
  <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png" /></a>
  <div>This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License</a>.</div>
</section>

  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2017 - dohkoos -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'codemany';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>





</body>
</html>
