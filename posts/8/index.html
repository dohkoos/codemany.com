
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>乐者为王</title>
  <meta name="author" content="dohkoos">

  
  <meta name="description" content="wizardly是一个非常容易使用的创建multi-step wizard的Rails插件，只要三步就可以创建一个wizard了。 首先： 1
2
gem install wizardly&lt;br /&gt;
script/generate scaffold user first_name: &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://codemany.com/posts/8">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="乐者为王" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <!--script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script-->
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<!--link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css"-->
<!--link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css"-->

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">乐者为王</a></h1>
  
    <h2>Do one thing, and do it well.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:codemany.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/03/14/used-to-create-multi-step-wizard-wizardly/">使用wizardly创建multi-step Wizard</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-03-14T02:53:51+08:00" pubdate data-updated="true">Mar 14<sup>th</sup>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="https://github.com/jeffp/wizardly">wizardly</a>是一个非常容易使用的创建multi-step wizard的Rails插件，只要三步就可以创建一个wizard了。</p>

<p>首先：<br /></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>gem install wizardly&lt;br /&gt;
</span><span class='line'>script/generate scaffold user first_name:string last_name:string age:integer gender:boolean&lt;br /&gt;</span></code></pre></td></tr></table></div></figure>


<p>第一步：<br /></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>class User &lt; ActiveRecord::Base&lt;br /&gt;
</span><span class='line'>  validation_group :step1, :fields =&gt; [:first_name, :last_name]&lt;br /&gt;
</span><span class='line'>  validation_group :step2, :fields =&gt; [:age, :gender]&lt;br /&gt;
</span><span class='line'>  ...&lt;br /&gt;
</span><span class='line'>end&lt;br /&gt;</span></code></pre></td></tr></table></div></figure>


<p>第二步：<br /></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>class UsersController &lt; ApplicationController&lt;br /&gt;
</span><span class='line'>  act_wizardly_for :user&lt;br /&gt;
</span><span class='line'>end&lt;br /&gt;</span></code></pre></td></tr></table></div></figure>


<p>第三步：<br /></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>script/generate wizardly_scaffold users&lt;br /&gt;</span></code></pre></td></tr></table></div></figure>


<p>现在你就可以通过访问<a href="http://localhost:3000/users/step1%E6%9D%A5%E6%9F%A5%E7%9C%8B%E6%95%88%E6%9E%9C%E4%BA%86%E3%80%82">http://localhost:3000/users/step1%E6%9D%A5%E6%9F%A5%E7%9C%8B%E6%95%88%E6%9E%9C%E4%BA%86%E3%80%82</a></p></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/03/10/paperclip-randomized-upload-file-name/">随机化Paperclip的上传文件名</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-03-10T02:32:56+08:00" pubdate data-updated="true">Mar 10<sup>th</sup>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>有时我们希望可以设定上传文件名的格式。一是可以统一文件名，而不是一些乱七八糟的名字；二是可以让文件名不是那么容易被猜测出来。下面的这段代码就是在网上找到的：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>class Photo &lt; ActiveRecord::Base
</span><span class='line'>  has_attached_file :image, :url =&gt; "/uploads/:basename.:extension"
</span><span class='line'>
</span><span class='line'>  before_create :randomize_file_name
</span><span class='line'>
</span><span class='line'>  private
</span><span class='line'>  def randomize_file_name
</span><span class='line'>    extension = File.extname(image_file_name).downcase
</span><span class='line'>    self.image.instance_write(:file_name, "#{Time.now.strftime("%Y%m%d%H%M%S")}#{rand(1000)}#{extension}")
</span><span class='line'>  end
</span><span class='line'>end</span></code></pre></td></tr></table></div></figure>


<p>原文链接 <a href="http://trevorturk.com/2009/03/22/randomize-filename-in-paperclip/">http://trevorturk.com/2009/03/22/randomize-filename-in-paperclip/</a> ，这里我把随机参数给改了，这样文件名的格式就像20110310095646???。还有一个注意点就是在url中必须使用:basename参数，因为修改的:file_name就是它。</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/03/08/rails-to-upload-files-asynchronously-without-refreshing/">Rails无刷新异步上传文件</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-03-08T16:09:31+08:00" pubdate data-updated="true">Mar 8<sup>th</sup>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>rails upload&lt;br /&gt;
</span><span class='line'>cd upload&lt;br /&gt;
</span><span class='line'>script/plugin install git://github.com/thoughtbot/paperclip.git&lt;br /&gt;
</span><span class='line'>script/plugin install git://github.com/markcatley/responds_to_parent.git&lt;br /&gt;
</span><span class='line'>script/generate scaffold user name:string&lt;br /&gt;
</span><span class='line'>script/generate paperclip user avatar&lt;br /&gt;
</span><span class='line'>rake db:migrate&lt;br /&gt;</span></code></pre></td></tr></table></div></figure>


<p>在user.rb中增加：<br /></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>  has_attached_file :avatar, :url =&gt; "/uploads/:basename.:extension"&lt;br /&gt;
</span><span class='line'>  validates_attachment_presence :avatar&lt;br /&gt;
</span><span class='line'>  validates_attachment_content_type :avatar,&lt;br /&gt;
</span><span class='line'>    :content_type =&gt; ['image/jpeg', 'image/jpg', 'image/png']&lt;br /&gt;
</span><span class='line'>  validates_attachment_size :avatar, :less_than =&gt; 1.megabytes&lt;br /&gt;</span></code></pre></td></tr></table></div></figure>


<p>修改views/users/new.html.erb文件：<br /></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;% form_for(@user, :url =&gt; users_path(:format =&gt; 'js'),&lt;br /&gt;
</span><span class='line'>  :html =&gt; {:id =&gt; 'upload_form', :multipart =&gt; true, :target =&gt; 'upload_frame'}) do |f| %&gt;
</span><span class='line'>  &lt;%= f.error_messages %&gt;
</span><span class='line'>
</span><span class='line'>  &lt;p&gt;
</span><span class='line'>    &lt;%= f.label :name %&gt;&lt;br /&gt;
</span><span class='line'>    &lt;%= f.text_field :name %&gt;
</span><span class='line'>  &lt;/p&gt;
</span><span class='line'>  &lt;p&gt;
</span><span class='line'>    &lt;%= f.label :avatar %&gt;&lt;br /&gt;
</span><span class='line'>    &lt;%= f.file_field :avatar %&gt;
</span><span class='line'>    &lt;div id="avatar"&gt;
</span><span class='line'>    &lt;% if @user.avatar.exists? %&gt;
</span><span class='line'>      &lt;%= image_tag @user.avatar.url(:medium) %&gt;
</span><span class='line'>    &lt;% end %&gt;
</span><span class='line'>    &lt;/div&gt;
</span><span class='line'>  &lt;/p&gt;
</span><span class='line'>  &lt;p&gt;
</span><span class='line'>    &lt;%= f.submit 'Create' %&gt;
</span><span class='line'>  &lt;/p&gt;
</span><span class='line'>&lt;% end %&gt;
</span><span class='line'>&lt;iframe id="upload_frame" name="upload_frame" style="display: none;"&gt;&lt;/iframe&gt;</span></code></pre></td></tr></table></div></figure>


<p>当点击submit按钮后，表单被提交到隐藏的iframe，相应的action被执行，执行结果会被返回给隐藏的iframe，我们需要上传后结果能返回到母窗口，这就是responds_to_parent插件提供的功能。</p>

<p>在views/layouts/user.html.erb中增加：<br /></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;%= javascript_include_tag :defaults %&gt;</span></code></pre></td></tr></table></div></figure>


<p>修改users_controller.rb中的create方法，增加：<br /></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>format.js do&lt;br /&gt;
</span><span class='line'>  flash[:notice] = 'avatar created'&lt;br /&gt;
</span><span class='line'>  responds_to_parent do&lt;br /&gt;
</span><span class='line'>    render :update do |page|&lt;br /&gt;
</span><span class='line'>      page.replace_html :avatar, image_tag(@user.avatar.url(:medium))&lt;br /&gt;
</span><span class='line'>      page['upload_form'].reset&lt;br /&gt;
</span><span class='line'>    end&lt;br /&gt;
</span><span class='line'>  end&lt;br /&gt;
</span><span class='line'>end&lt;br /&gt;</span></code></pre></td></tr></table></div></figure>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/03/08/login-with-the-email-changes-to-achieve-restful-authentication/">修改restful_authentication实现用email登录</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-03-08T04:02:36+08:00" pubdate data-updated="true">Mar 8<sup>th</sup>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>如果要使用用户名和email并行的登录方式，那么只要在models/user.rb中添加一行代码就可以了（粗体为添加部分）：<br /></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>def self.authenticate(login, password)&lt;br /&gt;
</span><span class='line'>  return nil if login.blank? || password.blank?&lt;br /&gt;
</span><span class='line'>  u = find_by_login(login.downcase) # need to get the salt&lt;br /&gt;
</span><span class='line'>  u ||= find_by_email(login.downcase)&lt;br /&gt;
</span><span class='line'>  u && u.authenticated?(password) ? u : nil&lt;br /&gt;
</span><span class='line'>end&lt;br /&gt;</span></code></pre></td></tr></table></div></figure>


<p>假如要使只能用email登录，就要先移除models/user.rb中的下列代码：<br /></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>validates_presence_of :login&lt;br /&gt;
</span><span class='line'>validates_length_of :login&lt;br /&gt;
</span><span class='line'>validates_uniqueness_of :login&lt;br /&gt;</span></code></pre></td></tr></table></div></figure>


<p>然后修改self.authenticate方法为：<br /></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>def self.authenticate(email, password)&lt;br /&gt;
</span><span class='line'>  return nil if email.blank? || password.blank?&lt;br /&gt;
</span><span class='line'>  u = find_by_email(email.downcase) # need to get the salt&lt;br /&gt;
</span><span class='line'>  u && u.authenticated?(password) ? u : nil&lt;br /&gt;
</span><span class='line'>end&lt;br /&gt;</span></code></pre></td></tr></table></div></figure>


<p>接着将注册页面views/users/new.html.erb中的login块移除，还有就是要将忘记密码邮件中的@user.login改为@user.email。</p>

<p>经过这些修改后就实现只能使用email登录了。</p></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/03/06/uninitialized-constant-typus-authentication-bypassword/">Uninitialized Constant Typus::Authentication::ByPassword</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-03-06T14:07:03+08:00" pubdate data-updated="true">Mar 6<sup>th</sup>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>我使用的Rails是2.3.5版本，所以在安装typus的时候需要加上-r 2-3-stable。<br /></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>script/plugin install git://github.com/fesplugas/typus.git -r 2-3-stable&lt;br /&gt;</span></code></pre></td></tr></table></div></figure>


<p>在安装完后执行script/generate typus出现了下面的错误：<br /></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>uninitialized constant Typus::Authentication::ByPassword&lt;br /&gt;</span></code></pre></td></tr></table></div></figure>


<p>在网上找到的答案是因为和restful_authentication中Authentication模块有冲突，可以将app/models/user.rb中的：<br /></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>  include Authentication&lt;br /&gt;
</span><span class='line'>  include Authentication::ByPassword&lt;br /&gt;
</span><span class='line'>  include Authentication::ByCookieToken&lt;br /&gt;</span></code></pre></td></tr></table></div></figure>


<p>改成<br /></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>  include ::Authentication&lt;br /&gt;
</span><span class='line'>  include ::Authentication::ByPassword&lt;br /&gt;
</span><span class='line'>  include ::Authentication::ByCookieToken&lt;br /&gt;</span></code></pre></td></tr></table></div></figure>


<p>再次执行generator时提示：<br /></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>undefined method 'login_regex' for Typus::Authentication:Module&lt;br /&gt;</span></code></pre></td></tr></table></div></figure>


<p>经过再三查找，原来是user.rb中还有别的调用Authentication的地方，全部加上::符号，问题解决了。</p></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/02/27/used-to-achieve-the-tab-page-features-tabnav/">使用tabnav来实现tab页功能</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-02-27T14:50:26+08:00" pubdate data-updated="true">Feb 27<sup>th</sup>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>tabnav是rails-widgets插件中的一个组件，插件地址在<a href="http://github.com/paolodona/rails-widgets"><a href="http://github.com/paolodona/rails-widgets">http://github.com/paolodona/rails-widgets</a></a>。不过我们不需要使用其它的组件，所以我们只要使用omenking创建的<a href="http://github.com/omenking/tabnav">tabnav</a>就可以，他已经帮我们把tabnav从rails-widgets中分离出来了。</p>

<p>下载插件：<br /></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>script/plugin install git://github.com/omenking/tabnav.git&lt;br /&gt;</span></code></pre></td></tr></table></div></figure>


<p>生成views/shared/_tabnav.html.erb文件：<br /></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>script/generate tabnav tabnav&lt;br /&gt;</span></code></pre></td></tr></table></div></figure>


<p>添加一个tab标签到_tabnav.html.erb中，并且把里面显示每个controller的代码注释掉：<br /></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>add_tab do |t|&lt;br /&gt;
</span><span class='line'>  t.named "Home"&lt;br /&gt;
</span><span class='line'>  t.links_to :controller =&gt; "home", :action =&gt; "index"&lt;br /&gt;
</span><span class='line'>end&lt;br /&gt;</span></code></pre></td></tr></table></div></figure>


<p>再添加以下代码到tabs.css文件做些许修饰：<br /></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>.tabnav {&lt;br /&gt;
</span><span class='line'>  background-color: #fff;&lt;br /&gt;
</span><span class='line'>  padding: 5px;&lt;br /&gt;
</span><span class='line'>  height: 2em;&lt;br /&gt;
</span><span class='line'>  font-size: 10pt;&lt;br /&gt;
</span><span class='line'>}
</span><span class='line'>
</span><span class='line'>.tabnav ul {&lt;br /&gt;
</span><span class='line'>  height: 2em;&lt;br /&gt;
</span><span class='line'>  margin: 0;&lt;br /&gt;
</span><span class='line'>  padding: 0;&lt;br /&gt;
</span><span class='line'>}
</span><span class='line'>
</span><span class='line'>.tabnav li {&lt;br /&gt;
</span><span class='line'>  display: inline;&lt;br /&gt;
</span><span class='line'>  line-height: 1.167em;&lt;br /&gt;
</span><span class='line'>  padding: 0;&lt;br /&gt;
</span><span class='line'>}
</span><span class='line'>
</span><span class='line'>.tabnav li a {&lt;br /&gt;
</span><span class='line'>  background: #5ec998;&lt;br /&gt;
</span><span class='line'>  color: #ebebeb;&lt;br /&gt;
</span><span class='line'>  text-decoration: none;&lt;br /&gt;
</span><span class='line'>  border: 0.083em solid #fff;&lt;br /&gt;
</span><span class='line'>  border-bottom: 0.083em solid #5ec998;&lt;br /&gt;
</span><span class='line'>  padding: 0.5em 0.667em 0.417em 0.5em;&lt;br /&gt;
</span><span class='line'>  float: left;&lt;br /&gt;
</span><span class='line'>}
</span><span class='line'>
</span><span class='line'>.tabnav li a.active {&lt;br /&gt;
</span><span class='line'>  color: #ebebeb;&lt;br /&gt;
</span><span class='line'>  font-weight: bold;&lt;br /&gt;
</span><span class='line'>  background: #004000;&lt;br /&gt;
</span><span class='line'>  border: 0.083em solid #fff;&lt;br /&gt;
</span><span class='line'>  border-bottom: 0.083em solid #004000;&lt;br /&gt;
</span><span class='line'>}
</span><span class='line'>
</span><span class='line'>.tabnav li a:hover {&lt;br /&gt;
</span><span class='line'>  color: #004000;&lt;br /&gt;
</span><span class='line'>}
</span><span class='line'>
</span><span class='line'>.tabnav li a.active:hover {&lt;br /&gt;
</span><span class='line'>  color: #ebebeb;&lt;br /&gt;
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/01/14/suicide-when-a-chinese-website-features-standard/">“自杀”功能何时成为中文网站标配？</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-01-14T08:39:02+08:00" pubdate data-updated="true">Jan 14<sup>th</sup>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>原文：<a href="http://user.qzone.qq.com/980775755/blog/1281977494">http://user.qzone.qq.com/980775755/blog/1281977494</a></p>

<p>美国一家媒体曾总结过“美热门网站账户删除难度排行榜”，其中列出了Facebook、Twitter、Google、Ebay等赫赫有名的网站。看到这个榜单，我笑了——如果在中国搞一个同样的榜单，结果会很有意思——大家并列第一，因为，在这个神奇的地方，绝大多数网站都没有提供“自杀”功能。</p>

<p>从美国的榜单看出，只有维基百科等极少数网站不提供账户注销服务，在绝大多数美国主流网站该功能都属于“标配”。而在中国，现实的情况正好相反。我做了一个简单调查，在时下最热门的微博网站中，没有任何一家提供这一服务；在SNS网站中，只有开心网、人人网有明确的 “删除账号”菜单和帮助指引；而电子商务、招聘等平台，更是“自杀”无门。</p>

<p>按道理，让不愿意留下来的用户注销账户，可以减轻服务器和维护成本，又能使用户体验更完整，留下一个好口碑。并且要实现这一功能，几乎没有任何技术门槛，一个程序小组三两天的工夫即可搞定。可为什么中国互联网发展10多年来，就始终没有将该功能的实现纳入议事日程呢？</p>

<p>究其原因，颇有些掩耳盗铃的意味——或许在中国网站看来，不提供“自杀”功能，就表示“用户不会流失”，或者“用户黏度很高”。想想实在可笑，如果用户连“自杀”的心都有了，网站们强行扣留下来一堆僵尸账户，除了能自我安慰（注册用户量节节高攀），还有任何价值么？</p>

<p>我曾经将这个匪夷所思的问题郑重地摆在一位互联网大佬面前，对方沉默片刻，笑了笑，幽默地说道：“自杀是一件痛苦的事，也许不提供这种功能，体现了我们的人文关怀。阻止轻生，人人有责。”对于这个答复我很想踢他一脚，但我知道，踢也没用，他也给不出答案。</p>

<p>这里引入了一个新问题：用户的网络账户归属权究竟是平台，还是用户自身？我翻看了国内一线互联网公司的用户注册协议，其中大多明确提到“账号的所有权归网站，使用权归用户”，这是否就是网站不赋予用户注销账户权限的“法律依据”？“使用权”中是否不包括“注销账户权”？</p>

<p>随着社交网络的火爆、微博的蹿红、淘宝的盛行以及未来LBS（基于位置的服务）的流行，网民在互联网上的轨迹会越来越多元化，且与现实生活交叉点会越来越多。这将导致网络账户“自杀”的需求会越来越旺盛，或者是出于隐私考虑，或者是由于虚拟社会对现实生活带来了负面影响，又或者仅仅是为了在注销后重新注册一个更好听的ID名，不管是何种原因，这种用户的基本权利必须得到声张。当然，这一服务可以做得更严谨一些。比如淘宝平台，删除用户信息、交易信息，可将交易在服务器上备案，交易产生的评价也予以保留；再比如微博平台，删除账户，可保留他人转发过的信息。</p>

<p>今年5月，超过2.5万名Facebook用户发起了一场“退出Facebook日”活动，他们相约在同一天“自杀”，以抗议隐私泄露问题。可悲的是，如果在中国互联网上，你连“自杀”的机会都没有，更谈何享受隐私保护这种奢侈？</p>

<p>套用一句经典语，赠送给各网站的老大们：我很希望你留下来，但我誓死捍卫你离开的权利。</p>

<p><span style="color: #ff0000;">博主按：</span>
看过陈佼的文章后不由想起我在2004年写的一篇博文《所有网站中都存在的bug ！！！》，那时的博客还放在csdn上面。后来迁移博客的时候就把它删除了（主要是文笔太差，写的干巴巴的），只留个txt作纪念。下面再把该文贴出来晒一晒太阳：</p>

<blockquote>用户名资源的浪费！！网站拥有者骗钱的把戏！！
<br />
为什么网站不提供删除用户所有资料的功能？<br />
用注册用户数来骗投资者的钱？<br />
技术问题？
<br />
这样导致的后果是用户名的浪费。<br />
已被注册但出于死亡状态的用户名会导致新用户不能使用他钟爱的用户名字；<br />
这些已被注册但出于死亡状态的用户名需要网站运行者花费时间、精力、金钱来维护。
<br />
发表于 @ 2004年12月20日 6:15 PM</blockquote>


<p></p></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/01/05/add-feedback-for-the-rails-application/">为Rails应用添加feedback功能</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-01-05T05:44:39+08:00" pubdate data-updated="true">Jan 5<sup>th</sup>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>首先，将Rails中的Prototype替换为jQuery。接着安装<a href="http://github.com/jsboulanger/feedback">feedback</a>插件：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>script/plugin install git://github.com/jsboulanger/feedback.git</span></code></pre></td></tr></table></div></figure>


<p>生成代码，由于我们用jQuery替换了Prototype，所以要在后面加上jquery参数：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>script/generate feedback_form --jquery</span></code></pre></td></tr></table></div></figure>


<p>在app/views/layouts/application.html.erb中添加：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;%= javascript_include_tag :defaults %&gt;</span></code></pre></td></tr></table></div></figure>


<p>在要添加feedback的页面中加上以下代码：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;%= feedback_tab(:position =&gt; 'top') %&gt;</span></code></pre></td></tr></table></div></figure>


<p>然后修改app/models/feedback_mailer.rb中的设置：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>def feedback(feedback)
</span><span class='line'>  @recipients = 'you@yoursite.com'
</span><span class='line'>  @from = 'system@yoursite.com'
</span><span class='line'>  @subject = "[Feedback for YourSite.com] #{feedback.subject}"
</span><span class='line'>  ...
</span><span class='line'>end</span></code></pre></td></tr></table></div></figure>


<p>这样feedback功能就加上了！</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/12/23/rss-for-the-rails-application-to-increase-output/">为Rails应用增加RSS输出功能</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-12-23T04:55:17+08:00" pubdate data-updated="true">Dec 23<sup>rd</sup>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>在EntriesController中增加action，内容如下：<br /></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>def feed&lt;br /&gt;
</span><span class='line'>  @entries = Entry.all&lt;br /&gt;
</span><span class='line'>  respond_to do |format|&lt;br /&gt;
</span><span class='line'>    format.rss { render :layout =&gt; false } # feed.rss.rxml&lt;br /&gt;
</span><span class='line'>  end&lt;br /&gt;
</span><span class='line'>end&lt;br /&gt;</span></code></pre></td></tr></table></div></figure>


<p>在app/views/entries中增加feed.rss.rxml视图模板：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>xml.instruct! "xml", :version =&gt; "1.0"&lt;br /&gt;
</span><span class='line'>xml.rss "version" =&gt; "2.0" do&lt;br /&gt;
</span><span class='line'>  xml.channel do&lt;br /&gt;
</span><span class='line'>    xml.title "xx510.cn Entries"&lt;br /&gt;
</span><span class='line'>    xml.description "Listing Entries for xx510.cn"&lt;br /&gt;
</span><span class='line'>    xml.link entries_url
</span><span class='line'>
</span><span class='line'>    @entries.each do |entry|&lt;br /&gt;
</span><span class='line'>      xml.item do&lt;br /&gt;
</span><span class='line'>        xml.title entry.title&lt;br /&gt;
</span><span class='line'>        xml.link entry_url(entry)&lt;br /&gt;
</span><span class='line'>        xml.description entry.content&lt;br /&gt;
</span><span class='line'>        xml.guid entry_url(entry)&lt;br /&gt;
</span><span class='line'>      end&lt;br /&gt;
</span><span class='line'>    end&lt;br /&gt;
</span><span class='line'>  end&lt;br /&gt;
</span><span class='line'>end&lt;br /&gt;</span></code></pre></td></tr></table></div></figure>


<p>然后在config/routes.rb中添加：<br /></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>map.feed '/feed', :controller =&gt; 'entries', :action =&gt; 'feed'&lt;br /&gt;</span></code></pre></td></tr></table></div></figure>


<p>这样，当访问<a href="http://xx510.cn/feed%E6%97%B6%E5%8D%B3%E5%8F%AF%E7%9C%8B%E5%88%B0%E6%89%80%E6%9C%89%E5%86%85%E5%AE%B9%E7%9A%84RSS%E8%BE%93%E5%87%BA%E4%BA%86%EF%BC%81">http://xx510.cn/feed%E6%97%B6%E5%8D%B3%E5%8F%AF%E7%9C%8B%E5%88%B0%E6%89%80%E6%9C%89%E5%86%85%E5%AE%B9%E7%9A%84RSS%E8%BE%93%E5%87%BA%E4%BA%86%EF%BC%81</a></p></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/12/09/easy-to-using-simple-captcha-verification-code/">用simple_captcha轻松实现验证码</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-12-09T02:42:26+08:00" pubdate data-updated="true">Dec 9<sup>th</sup>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="https://github.com/eshopworks/simple_captcha">simple_captcha</a>是一个可以帮我们在Rails中轻松实现验证码功能的插件，它使用简单，并且支持图片和数字验证。</p>

<p>安装插件</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>script/plugin install git://github.com/eshopworks/simple_captcha.git&lt;br /&gt;</span></code></pre></td></tr></table></div></figure>


<p>rails >= 2.0</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>rake simple_captcha:setup&lt;br /&gt;</span></code></pre></td></tr></table></div></figure>


<p>rails &lt; 2.0</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>rake simple_captcha:setup_old&lt;br /&gt;</span></code></pre></td></tr></table></div></figure>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>rake db:migrate&lt;br /&gt;</span></code></pre></td></tr></table></div></figure>


<p>在config/routes.rb中添加：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>map.simple_captcha '/simple_captcha/:action', :controller =&gt; 'simple_captcha'&lt;br /&gt;</span></code></pre></td></tr></table></div></figure>


<p>在app/controllers/application.rb中添加：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>ApplicationController &lt; ActionController::Base&lt;br /&gt;
</span><span class='line'>  include SimpleCaptcha::ControllerHelpers&lt;br /&gt;
</span><span class='line'>end&lt;br /&gt;</span></code></pre></td></tr></table></div></figure>


<p>在app/views/entries/new.html.erb的form中加上：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;%= show_simple_captcha(:ojbect =&gt; 'entry') %&gt;</span></code></pre></td></tr></table></div></figure>


<p>在app/models/entry.rb中添加：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>class Entry &lt; ActiveRecord::Base&lt;br /&gt;
</span><span class='line'>  apply_simple_captcha&lt;br /&gt;
</span><span class='line'>end&lt;br /&gt;</span></code></pre></td></tr></table></div></figure>


<p>将app/controllers/entries_controller.rb中的create中</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>if @entry.save&lt;br /&gt;
</span><span class='line'>  ...&lt;br /&gt;
</span><span class='line'>end&lt;br /&gt;</span></code></pre></td></tr></table></div></figure>


<p>改为</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>if @entry.save_with_captcha&lt;br /&gt;
</span><span class='line'>  ...&lt;br /&gt;
</span><span class='line'>end&lt;br /&gt;</span></code></pre></td></tr></table></div></figure>


<p>2011/2/17更新</p>

<p>当看不清楚，需要换一个验证码时稍麻烦，需要借助Ajax实现，simple_captcha没有提供这个功能，还好小日本写好了一段代码可以参考：<a href="http://d.hatena.ne.jp/kusakari/20080130/1201666383"><a href="http://d.hatena.ne.jp/kusakari/20080130/1201666383">http://d.hatena.ne.jp/kusakari/20080130/1201666383</a></a>。不过可惜使用的是Prototype库，因此花了点时间将之改成了jQuery代码。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;span id="captcha_image"&gt;
</span><span class='line'>  &lt;%= show_simple_captcha(:object =&gt; "user", :label =&gt; 'Please type the text from the image.')) %&gt;
</span><span class='line'>&lt;/span&gt;
</span><span class='line'>&lt;a href="javascript:void(0);" id="recognize_captcha"&gt;I cannot recognize.&lt;/a&gt;
</span><span class='line'>&lt;script type="text/javascript"&gt;
</span><span class='line'>//&lt;![CDATA[&lt;br /&gt;
</span><span class='line'>$("#recognize_captcha").click(function() {&lt;br /&gt;
</span><span class='line'>  $.ajax({&lt;br /&gt;
</span><span class='line'>  url: "&lt;%= url_for(:action =&gt; 'update_captcha') %&gt;",&lt;br /&gt;
</span><span class='line'>  success: function(response) {&lt;br /&gt;
</span><span class='line'>    $("#captcha_image").html(response);&lt;br /&gt;
</span><span class='line'>  }&lt;br /&gt;
</span><span class='line'>  });&lt;br /&gt;
</span><span class='line'>});&lt;br /&gt;
</span><span class='line'>//]]&gt;
</span><span class='line'>&lt;/script&gt;</span></code></pre></td></tr></table></div></figure>


<p>在controller中加上：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>def update_captcha&lt;br /&gt;
</span><span class='line'>  render :layout =&gt; false&lt;br /&gt;
</span><span class='line'>end&lt;br /&gt;</span></code></pre></td></tr></table></div></figure>


<p>创建update_captcha.html.erb，代码如下：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;%= show_simple_captcha(:object =&gt; "user", :label =&gt; 'Please type the text from the image.') %&gt;</span></code></pre></td></tr></table></div></figure>


<p>还有就是要在routes.rb中添加一条route，不然会找不到action：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>map.update_captcha '/user/update_captcha', :controller =&gt; 'user', :action =&gt; 'update_captcha'&lt;br /&gt;</span></code></pre></td></tr></table></div></figure>

</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/posts/9">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/posts/7">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2014/08/05/migrating-wordpress-to-octopress/">Wordpress迁移到Octopress</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/07/17/problem-with-nokogiri-when-url-containing-chinese-character/">Nokogiri抓取页面URL含有中文参数的问题</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/07/09/logic-problems-how-many-sick-dogs/">逻辑题-几条病狗</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/07/07/debugging-rails-with-pry/">使用Pry调试Rails项目</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/07/06/raspberry-pi-wifi-with-static-ip-address/">Raspberry Pi使用无线网卡</a>
      </li>
    
  </ul>
</section>
<section>
  <h1>Recent Comments</h1>
  <div class="dsq-widget">
    <script type="text/javascript" src="http://codemany.disqus.com/recent_comments_widget.js"></script>
  </div>
</section>
<section>
  <h1>Tags</h1>
  <ul class="tag-cloud">
    <a style="font-size: 133%" href="/tags/android/">Android</a>
<a style="font-size: 111%" href="/tags/crack/">Crack</a>
<a style="font-size: 108%" href="/tags/database/">Database</a>
<a style="font-size: 97%" href="/tags/eclipse/">Eclipse</a>
<a style="font-size: 105%" href="/tags/jbookshelf/">JBookShelf</a>
<a style="font-size: 135%" href="/tags/java/">Java</a>
<a style="font-size: 108%" href="/tags/mysql/">MySQL</a>
<a style="font-size: 116%" href="/tags/powerbuilder/">PowerBuilder</a>
<a style="font-size: 120%" href="/tags/qianbao/">Qianbao</a>
<a style="font-size: 150%" href="/tags/rails/">Rails</a>
<a style="font-size: 101%" href="/tags/ruby/">Ruby</a>
<a style="font-size: 101%" href="/tags/struts/">Struts</a>
<a style="font-size: 97%" href="/tags/translation/">Translation</a>
<a style="font-size: 105%" href="/tags/windows-server-2008/">Windows Server 2008</a>
<a style="font-size: 108%" href="/tags/wxwidgets/">wxWidgets</a>

  </ul>
</section>
<section>
  <h1>Blogroll</h1>
  <ul>
    <li><a href="http://mindhacks.cn/">刘未鹏MIND HACKS</a></li>
    <li><a href="http://quake.iteye.com/">写程序的70后</a></li>
    <li><a href="http://codingnow.com/">云风的 BLOG</a></li>
    <li><a href="http://dbanotes.net/">DBA Notes</a></li>
    <li><a href="http://www.ruanyifeng.com/blog/">阮一峰的网络日志</a></li>
    <li><a href="http://www.cs.usfca.edu/~galles/visualization/Algorithms.html">Data Structure Visualization</a></li>
  </ul>
</section>

  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - dohkoos -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'codemany';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>





</body>
</html>
